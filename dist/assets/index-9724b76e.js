(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Bc={exports:{}},R={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=Symbol.for("react.element"),Pm=Symbol.for("react.portal"),Am=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),Rm=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Dm=Symbol.for("react.memo"),Mm=Symbol.for("react.lazy"),ho=Symbol.iterator;function Um(t){return t===null||typeof t!="object"?null:(t=ho&&t[ho]||t["@@iterator"],typeof t=="function"?t:null)}var Wc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hc=Object.assign,Vc={};function Fr(t,e,r){this.props=t,this.context=e,this.refs=Vc,this.updater=r||Wc}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gc(){}Gc.prototype=Fr.prototype;function di(t,e,r){this.props=t,this.context=e,this.refs=Vc,this.updater=r||Wc}var mi=di.prototype=new Gc;mi.constructor=di;Hc(mi,Fr.prototype);mi.isPureReactComponent=!0;var go=Array.isArray,Kc=Object.prototype.hasOwnProperty,fi={current:null},qc={key:!0,ref:!0,__self:!0,__source:!0};function Qc(t,e,r){var n,a={},l=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(l=""+e.key),e)Kc.call(e,n)&&!qc.hasOwnProperty(n)&&(a[n]=e[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:zn,type:t,key:l,ref:i,props:a,_owner:fi.current}}function Fm(t,e){return{$$typeof:zn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hi(t){return typeof t=="object"&&t!==null&&t.$$typeof===zn}function zm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var po=/\/+/g;function Sa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zm(""+t.key):e.toString(36)}function vs(t,e,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case zn:case Pm:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Sa(i,0):n,go(a)?(r="",t!=null&&(r=t.replace(po,"$&/")+"/"),vs(a,e,r,"",function(u){return u})):a!=null&&(hi(a)&&(a=Fm(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(po,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",go(t))for(var o=0;o<t.length;o++){l=t[o];var c=n+Sa(l,o);i+=vs(l,e,r,c,a)}else if(c=Um(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=n+Sa(l,o++),i+=vs(l,e,r,c,a);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Yn(t,e,r){if(t==null)return t;var n=[],a=0;return vs(t,n,"","",function(l){return e.call(r,l,a++)}),n}function Bm(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ge={current:null},ys={transition:null},Wm={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ys,ReactCurrentOwner:fi};function Jc(){throw Error("act(...) is not supported in production builds of React.")}R.Children={map:Yn,forEach:function(t,e,r){Yn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yn(t,function(){e++}),e},toArray:function(t){return Yn(t,function(e){return e})||[]},only:function(t){if(!hi(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};R.Component=Fr;R.Fragment=Am;R.Profiler=Im;R.PureComponent=di;R.StrictMode=jm;R.Suspense=$m;R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wm;R.act=Jc;R.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Hc({},t.props),a=t.key,l=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,i=fi.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Kc.call(e,c)&&!qc.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:zn,type:t.type,key:a,ref:l,props:n,_owner:i}};R.createContext=function(t){return t={$$typeof:Rm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Om,_context:t},t.Consumer=t};R.createElement=Qc;R.createFactory=function(t){var e=Qc.bind(null,t);return e.type=t,e};R.createRef=function(){return{current:null}};R.forwardRef=function(t){return{$$typeof:Lm,render:t}};R.isValidElement=hi;R.lazy=function(t){return{$$typeof:Mm,_payload:{_status:-1,_result:t},_init:Bm}};R.memo=function(t,e){return{$$typeof:Dm,type:t,compare:e===void 0?null:e}};R.startTransition=function(t){var e=ys.transition;ys.transition={};try{t()}finally{ys.transition=e}};R.unstable_act=Jc;R.useCallback=function(t,e){return ge.current.useCallback(t,e)};R.useContext=function(t){return ge.current.useContext(t)};R.useDebugValue=function(){};R.useDeferredValue=function(t){return ge.current.useDeferredValue(t)};R.useEffect=function(t,e){return ge.current.useEffect(t,e)};R.useId=function(){return ge.current.useId()};R.useImperativeHandle=function(t,e,r){return ge.current.useImperativeHandle(t,e,r)};R.useInsertionEffect=function(t,e){return ge.current.useInsertionEffect(t,e)};R.useLayoutEffect=function(t,e){return ge.current.useLayoutEffect(t,e)};R.useMemo=function(t,e){return ge.current.useMemo(t,e)};R.useReducer=function(t,e,r){return ge.current.useReducer(t,e,r)};R.useRef=function(t){return ge.current.useRef(t)};R.useState=function(t){return ge.current.useState(t)};R.useSyncExternalStore=function(t,e,r){return ge.current.useSyncExternalStore(t,e,r)};R.useTransition=function(){return ge.current.useTransition()};R.version="18.3.1";Bc.exports=R;var C=Bc.exports;const s=Cm(C);var ll={},Yc={exports:{}},Te={},Xc={exports:{}},Zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,j){var I=P.length;P.push(j);e:for(;0<I;){var J=I-1>>>1,ne=P[J];if(0<a(ne,j))P[J]=j,P[I]=ne,I=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var j=P[0],I=P.pop();if(I!==j){P[0]=I;e:for(var J=0,ne=P.length,Qn=ne>>>1;J<Qn;){var Dt=2*(J+1)-1,ka=P[Dt],Mt=Dt+1,Jn=P[Mt];if(0>a(ka,I))Mt<ne&&0>a(Jn,ka)?(P[J]=Jn,P[Mt]=I,J=Mt):(P[J]=ka,P[Dt]=I,J=Dt);else if(Mt<ne&&0>a(Jn,I))P[J]=Jn,P[Mt]=I,J=Mt;else break e}}return j}function a(P,j){var I=P.sortIndex-j.sortIndex;return I!==0?I:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,h=null,p=3,x=!1,f=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=P)n(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=r(u)}}function w(P){if(v=!1,g(P),!f)if(r(c)!==null)f=!0,Na(E);else{var j=r(u);j!==null&&_a(w,j.startTime-P)}}function E(P,j){f=!1,v&&(v=!1,y(S),S=-1),x=!0;var I=p;try{for(g(j),h=r(c);h!==null&&(!(h.expirationTime>j)||P&&!Me());){var J=h.callback;if(typeof J=="function"){h.callback=null,p=h.priorityLevel;var ne=J(h.expirationTime<=j);j=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(c)&&n(c),g(j)}else n(c);h=r(c)}if(h!==null)var Qn=!0;else{var Dt=r(u);Dt!==null&&_a(w,Dt.startTime-j),Qn=!1}return Qn}finally{h=null,p=I,x=!1}}var b=!1,_=null,S=-1,$=5,L=-1;function Me(){return!(t.unstable_now()-L<$)}function Gr(){if(_!==null){var P=t.unstable_now();L=P;var j=!0;try{j=_(!0,P)}finally{j?Kr():(b=!1,_=null)}}else b=!1}var Kr;if(typeof m=="function")Kr=function(){m(Gr)};else if(typeof MessageChannel<"u"){var fo=new MessageChannel,Sm=fo.port2;fo.port1.onmessage=Gr,Kr=function(){Sm.postMessage(null)}}else Kr=function(){N(Gr,0)};function Na(P){_=P,b||(b=!0,Kr())}function _a(P,j){S=N(function(){P(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){f||x||(f=!0,Na(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var I=p;p=j;try{return P()}finally{p=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=p;p=P;try{return j()}finally{p=I}},t.unstable_scheduleCallback=function(P,j,I){var J=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?J+I:J):I=J,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=I+ne,P={id:d++,callback:j,priorityLevel:P,startTime:I,expirationTime:ne,sortIndex:-1},I>J?(P.sortIndex=I,e(u,P),r(c)===null&&P===r(u)&&(v?(y(S),S=-1):v=!0,_a(w,I-J))):(P.sortIndex=ne,e(c,P),f||x||(f=!0,Na(E))),P},t.unstable_shouldYield=Me,t.unstable_wrapCallback=function(P){var j=p;return function(){var I=p;p=j;try{return P.apply(this,arguments)}finally{p=I}}}})(Zc);Xc.exports=Zc;var Hm=Xc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=C,Ce=Hm;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eu=new Set,bn={};function tr(t,e){jr(t,e),jr(t+"Capture",e)}function jr(t,e){for(bn[t]=e,t=0;t<e.length;t++)eu.add(e[t])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vo={},yo={};function Km(t){return il.call(yo,t)?!0:il.call(vo,t)?!1:Gm.test(t)?yo[t]=!0:(vo[t]=!0,!1)}function qm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qm(t,e,r,n){if(e===null||typeof e>"u"||qm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pe(t,e,r,n,a,l,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=i}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){oe[t]=new pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];oe[e]=new pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){oe[t]=new pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){oe[t]=new pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){oe[t]=new pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){oe[t]=new pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){oe[t]=new pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){oe[t]=new pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){oe[t]=new pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var gi=/[\-:]([a-z])/g;function pi(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gi,pi);oe[e]=new pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gi,pi);oe[e]=new pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gi,pi);oe[e]=new pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){oe[t]=new pe(t,1,!1,t.toLowerCase(),null,!1,!1)});oe.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){oe[t]=new pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function vi(t,e,r,n){var a=oe.hasOwnProperty(e)?oe[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qm(e,r,a,n)&&(r=null),n||a===null?Km(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var mt=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xn=Symbol.for("react.element"),fr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),yi=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),tu=Symbol.for("react.provider"),ru=Symbol.for("react.context"),xi=Symbol.for("react.forward_ref"),cl=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),wi=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),nu=Symbol.for("react.offscreen"),xo=Symbol.iterator;function qr(t){return t===null||typeof t!="object"?null:(t=xo&&t[xo]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,Ca;function sn(t){if(Ca===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||""}return`
`+Ca+t}var Ta=!1;function Pa(t,e){if(!t||Ta)return"";Ta=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{Ta=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sn(t):""}function Jm(t){switch(t.tag){case 5:return sn(t.type);case 16:return sn("Lazy");case 13:return sn("Suspense");case 19:return sn("SuspenseList");case 0:case 2:case 15:return t=Pa(t.type,!1),t;case 11:return t=Pa(t.type.render,!1),t;case 1:return t=Pa(t.type,!0),t;default:return""}}function dl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case fr:return"Portal";case ol:return"Profiler";case yi:return"StrictMode";case cl:return"Suspense";case ul:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ru:return(t.displayName||"Context")+".Consumer";case tu:return(t._context.displayName||"Context")+".Provider";case xi:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wi:return e=t.displayName||null,e!==null?e:dl(t.type)||"Memo";case pt:e=t._payload,t=t._init;try{return dl(t(e))}catch{}}return null}function Ym(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(e);case 8:return e===yi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xm(t){var e=su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zn(t){t._valueTracker||(t._valueTracker=Xm(t))}function au(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=su(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ml(t,e){var r=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function wo(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lu(t,e){e=e.checked,e!=null&&vi(t,"checked",e,!1)}function fl(t,e){lu(t,e);var r=jt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hl(t,e.type,r):e.hasOwnProperty("defaultValue")&&hl(t,e.type,jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Eo(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function hl(t,e,r){(e!=="number"||Ps(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var an=Array.isArray;function kr(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jt(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function gl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bo(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(an(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jt(r)}}function iu(t,e){var r=jt(e.value),n=jt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function No(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ou(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ou(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var es,cu=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=es.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zm=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(t){Zm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),un[e]=un[t]})});function uu(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||un.hasOwnProperty(t)&&un[t]?(""+e).trim():e+"px"}function du(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uu(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var ef=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(t,e){if(e){if(ef[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function yl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function Ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wl=null,Sr=null,Cr=null;function _o(t){if(t=Hn(t)){if(typeof wl!="function")throw Error(k(280));var e=t.stateNode;e&&(e=la(e),wl(t.stateNode,t.type,e))}}function mu(t){Sr?Cr?Cr.push(t):Cr=[t]:Sr=t}function fu(){if(Sr){var t=Sr,e=Cr;if(Cr=Sr=null,_o(t),e)for(t=0;t<e.length;t++)_o(e[t])}}function hu(t,e){return t(e)}function gu(){}var Aa=!1;function pu(t,e,r){if(Aa)return t(e,r);Aa=!0;try{return hu(t,e,r)}finally{Aa=!1,(Sr!==null||Cr!==null)&&(gu(),fu())}}function _n(t,e){var r=t.stateNode;if(r===null)return null;var n=la(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var El=!1;if(ot)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){El=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{El=!1}function tf(t,e,r,n,a,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var dn=!1,As=null,js=!1,bl=null,rf={onError:function(t){dn=!0,As=t}};function nf(t,e,r,n,a,l,i,o,c){dn=!1,As=null,tf.apply(rf,arguments)}function sf(t,e,r,n,a,l,i,o,c){if(nf.apply(this,arguments),dn){if(dn){var u=As;dn=!1,As=null}else throw Error(k(198));js||(js=!0,bl=u)}}function rr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ko(t){if(rr(t)!==t)throw Error(k(188))}function af(t){var e=t.alternate;if(!e){if(e=rr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return ko(a),t;if(l===n)return ko(a),e;l=l.sibling}throw Error(k(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function yu(t){return t=af(t),t!==null?xu(t):null}function xu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xu(t);if(e!==null)return e;t=t.sibling}return null}var wu=Ce.unstable_scheduleCallback,So=Ce.unstable_cancelCallback,lf=Ce.unstable_shouldYield,of=Ce.unstable_requestPaint,Y=Ce.unstable_now,cf=Ce.unstable_getCurrentPriorityLevel,bi=Ce.unstable_ImmediatePriority,Eu=Ce.unstable_UserBlockingPriority,Is=Ce.unstable_NormalPriority,uf=Ce.unstable_LowPriority,bu=Ce.unstable_IdlePriority,ra=null,Xe=null;function df(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ra,t,void 0,(t.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:hf,mf=Math.log,ff=Math.LN2;function hf(t){return t>>>=0,t===0?32:31-(mf(t)/ff|0)|0}var ts=64,rs=4194304;function ln(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Os(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=ln(o):(l&=i,l!==0&&(n=ln(l)))}else i=r&~a,i!==0?n=ln(i):l!==0&&(n=ln(l));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,l=e&-e,a>=l||a===16&&(l&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-He(e),a=1<<r,n|=t[r],e&=~a;return n}function gf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-He(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=gf(o,e)):c<=e&&(t.expiredLanes|=o),l&=~o}}function Nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nu(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function ja(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-He(e),t[e]=r}function vf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-He(r),l=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function Ni(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-He(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var U=0;function _u(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ku,_i,Su,Cu,Tu,_l=!1,ns=[],Nt=null,_t=null,kt=null,kn=new Map,Sn=new Map,yt=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Co(t,e){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":kn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(e.pointerId)}}function Jr(t,e,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},e!==null&&(e=Hn(e),e!==null&&_i(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function xf(t,e,r,n,a){switch(e){case"focusin":return Nt=Jr(Nt,t,e,r,n,a),!0;case"dragenter":return _t=Jr(_t,t,e,r,n,a),!0;case"mouseover":return kt=Jr(kt,t,e,r,n,a),!0;case"pointerover":var l=a.pointerId;return kn.set(l,Jr(kn.get(l)||null,t,e,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Sn.set(l,Jr(Sn.get(l)||null,t,e,r,n,a)),!0}return!1}function Pu(t){var e=Vt(t.target);if(e!==null){var r=rr(e);if(r!==null){if(e=r.tag,e===13){if(e=vu(r),e!==null){t.blockedOn=e,Tu(t.priority,function(){Su(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xl=n,r.target.dispatchEvent(n),xl=null}else return e=Hn(r),e!==null&&_i(e),t.blockedOn=r,!1;e.shift()}return!0}function To(t,e,r){xs(t)&&r.delete(e)}function wf(){_l=!1,Nt!==null&&xs(Nt)&&(Nt=null),_t!==null&&xs(_t)&&(_t=null),kt!==null&&xs(kt)&&(kt=null),kn.forEach(To),Sn.forEach(To)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,_l||(_l=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,wf)))}function Cn(t){function e(a){return Yr(a,t)}if(0<ns.length){Yr(ns[0],t);for(var r=1;r<ns.length;r++){var n=ns[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nt!==null&&Yr(Nt,t),_t!==null&&Yr(_t,t),kt!==null&&Yr(kt,t),kn.forEach(e),Sn.forEach(e),r=0;r<yt.length;r++)n=yt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<yt.length&&(r=yt[0],r.blockedOn===null);)Pu(r),r.blockedOn===null&&yt.shift()}var Tr=mt.ReactCurrentBatchConfig,Rs=!0;function Ef(t,e,r,n){var a=U,l=Tr.transition;Tr.transition=null;try{U=1,ki(t,e,r,n)}finally{U=a,Tr.transition=l}}function bf(t,e,r,n){var a=U,l=Tr.transition;Tr.transition=null;try{U=4,ki(t,e,r,n)}finally{U=a,Tr.transition=l}}function ki(t,e,r,n){if(Rs){var a=kl(t,e,r,n);if(a===null)za(t,e,n,Ls,r),Co(t,n);else if(xf(a,t,e,r,n))n.stopPropagation();else if(Co(t,n),e&4&&-1<yf.indexOf(t)){for(;a!==null;){var l=Hn(a);if(l!==null&&ku(l),l=kl(t,e,r,n),l===null&&za(t,e,n,Ls,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else za(t,e,n,null,r)}}var Ls=null;function kl(t,e,r,n){if(Ls=null,t=Ei(n),t=Vt(t),t!==null)if(e=rr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vu(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function Au(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cf()){case bi:return 1;case Eu:return 4;case Is:case uf:return 16;case bu:return 536870912;default:return 16}default:return 16}}var Et=null,Si=null,ws=null;function ju(){if(ws)return ws;var t,e=Si,r=e.length,n,a="value"in Et?Et.value:Et.textContent,l=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[l-n];n++);return ws=a.slice(t,1<n?1-n:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function Po(){return!1}function Pe(t){function e(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ss:Po,this.isPropagationStopped=Po,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),e}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Pe(zr),Wn=q({},zr,{view:0,detail:0}),Nf=Pe(Wn),Ia,Oa,Xr,na=q({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Ia=t.screenX-Xr.screenX,Oa=t.screenY-Xr.screenY):Oa=Ia=0,Xr=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Ao=Pe(na),_f=q({},na,{dataTransfer:0}),kf=Pe(_f),Sf=q({},Wn,{relatedTarget:0}),Ra=Pe(Sf),Cf=q({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=Pe(Cf),Pf=q({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Af=Pe(Pf),jf=q({},zr,{data:0}),jo=Pe(jf),If={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Rf[t])?!!e[t]:!1}function Ti(){return Lf}var $f=q({},Wn,{key:function(t){if(t.key){var e=If[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Of[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Df=Pe($f),Mf=q({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Pe(Mf),Uf=q({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Ff=Pe(Uf),zf=q({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=Pe(zf),Wf=q({},na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hf=Pe(Wf),Vf=[9,13,27,32],Pi=ot&&"CompositionEvent"in window,mn=null;ot&&"documentMode"in document&&(mn=document.documentMode);var Gf=ot&&"TextEvent"in window&&!mn,Iu=ot&&(!Pi||mn&&8<mn&&11>=mn),Oo=String.fromCharCode(32),Ro=!1;function Ou(t,e){switch(t){case"keyup":return Vf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ru(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function Kf(t,e){switch(t){case"compositionend":return Ru(e);case"keypress":return e.which!==32?null:(Ro=!0,Oo);case"textInput":return t=e.data,t===Oo&&Ro?null:t;default:return null}}function qf(t,e){if(gr)return t==="compositionend"||!Pi&&Ou(t,e)?(t=ju(),ws=Si=Et=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iu&&e.locale!=="ko"?null:e.data;default:return null}}var Qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qf[t.type]:e==="textarea"}function Lu(t,e,r,n){mu(n),e=$s(e,"onChange"),0<e.length&&(r=new Ci("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fn=null,Tn=null;function Jf(t){Gu(t,0)}function sa(t){var e=yr(t);if(au(e))return t}function Yf(t,e){if(t==="change")return e}var $u=!1;if(ot){var La;if(ot){var $a="oninput"in document;if(!$a){var $o=document.createElement("div");$o.setAttribute("oninput","return;"),$a=typeof $o.oninput=="function"}La=$a}else La=!1;$u=La&&(!document.documentMode||9<document.documentMode)}function Do(){fn&&(fn.detachEvent("onpropertychange",Du),Tn=fn=null)}function Du(t){if(t.propertyName==="value"&&sa(Tn)){var e=[];Lu(e,Tn,t,Ei(t)),pu(Jf,e)}}function Xf(t,e,r){t==="focusin"?(Do(),fn=e,Tn=r,fn.attachEvent("onpropertychange",Du)):t==="focusout"&&Do()}function Zf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(Tn)}function eh(t,e){if(t==="click")return sa(e)}function th(t,e){if(t==="input"||t==="change")return sa(e)}function rh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:rh;function Pn(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!il.call(e,a)||!Ge(t[a],e[a]))return!1}return!0}function Mo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uo(t,e){var r=Mo(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mo(r)}}function Mu(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mu(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uu(){for(var t=window,e=Ps();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ps(t.document)}return e}function Ai(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nh(t){var e=Uu(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mu(r.ownerDocument.documentElement,r)){if(n!==null&&Ai(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=Uo(r,l);var i=Uo(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sh=ot&&"documentMode"in document&&11>=document.documentMode,pr=null,Sl=null,hn=null,Cl=!1;function Fo(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cl||pr==null||pr!==Ps(n)||(n=pr,"selectionStart"in n&&Ai(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hn&&Pn(hn,n)||(hn=n,n=$s(Sl,"onSelect"),0<n.length&&(e=new Ci("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pr)))}function as(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vr={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},Da={},Fu={};ot&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function aa(t){if(Da[t])return Da[t];if(!vr[t])return t;var e=vr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fu)return Da[t]=e[r];return t}var zu=aa("animationend"),Bu=aa("animationiteration"),Wu=aa("animationstart"),Hu=aa("transitionend"),Vu=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(t,e){Vu.set(t,e),tr(e,[t])}for(var Ma=0;Ma<zo.length;Ma++){var Ua=zo[Ma],ah=Ua.toLowerCase(),lh=Ua[0].toUpperCase()+Ua.slice(1);Ot(ah,"on"+lh)}Ot(zu,"onAnimationEnd");Ot(Bu,"onAnimationIteration");Ot(Wu,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(Hu,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ih=new Set("cancel close invalid load scroll toggle".split(" ").concat(on));function Bo(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sf(n,e,void 0,t),t.currentTarget=null}function Gu(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(e)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Bo(a,o,u),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Bo(a,o,u),l=c}}}if(js)throw t=bl,js=!1,bl=null,t}function B(t,e){var r=e[Il];r===void 0&&(r=e[Il]=new Set);var n=t+"__bubble";r.has(n)||(Ku(e,t,2,!1),r.add(n))}function Fa(t,e,r){var n=0;e&&(n|=4),Ku(r,t,n,e)}var ls="_reactListening"+Math.random().toString(36).slice(2);function An(t){if(!t[ls]){t[ls]=!0,eu.forEach(function(r){r!=="selectionchange"&&(ih.has(r)||Fa(r,!1,t),Fa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ls]||(e[ls]=!0,Fa("selectionchange",!1,e))}}function Ku(t,e,r,n){switch(Au(e)){case 1:var a=Ef;break;case 4:a=bf;break;default:a=ki}r=a.bind(null,e,r,t),a=void 0,!El||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function za(t,e,r,n,a){var l=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Vt(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}pu(function(){var u=l,d=Ei(r),h=[];e:{var p=Vu.get(t);if(p!==void 0){var x=Ci,f=t;switch(t){case"keypress":if(Es(r)===0)break e;case"keydown":case"keyup":x=Df;break;case"focusin":f="focus",x=Ra;break;case"focusout":f="blur",x=Ra;break;case"beforeblur":case"afterblur":x=Ra;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ff;break;case zu:case Bu:case Wu:x=Tf;break;case Hu:x=Bf;break;case"scroll":x=Nf;break;case"wheel":x=Hf;break;case"copy":case"cut":case"paste":x=Af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Io}var v=(e&4)!==0,N=!v&&t==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var m=u,g;m!==null;){g=m;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=_n(m,y),w!=null&&v.push(jn(m,w,g)))),N)break;m=m.return}0<v.length&&(p=new x(p,f,null,r,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&r!==xl&&(f=r.relatedTarget||r.fromElement)&&(Vt(f)||f[ct]))break e;if((x||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,x?(f=r.relatedTarget||r.toElement,x=u,f=f?Vt(f):null,f!==null&&(N=rr(f),f!==N||f.tag!==5&&f.tag!==6)&&(f=null)):(x=null,f=u),x!==f)){if(v=Ao,w="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Io,w="onPointerLeave",y="onPointerEnter",m="pointer"),N=x==null?p:yr(x),g=f==null?p:yr(f),p=new v(w,m+"leave",x,r,d),p.target=N,p.relatedTarget=g,w=null,Vt(d)===u&&(v=new v(y,m+"enter",f,r,d),v.target=g,v.relatedTarget=N,w=v),N=w,x&&f)t:{for(v=x,y=f,m=0,g=v;g;g=ar(g))m++;for(g=0,w=y;w;w=ar(w))g++;for(;0<m-g;)v=ar(v),m--;for(;0<g-m;)y=ar(y),g--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=ar(v),y=ar(y)}v=null}else v=null;x!==null&&Wo(h,p,x,v,!1),f!==null&&N!==null&&Wo(h,N,f,v,!0)}}e:{if(p=u?yr(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var E=Yf;else if(Lo(p))if($u)E=th;else{E=Zf;var b=Xf}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=eh);if(E&&(E=E(t,u))){Lu(h,E,r,d);break e}b&&b(t,p,u),t==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&hl(p,"number",p.value)}switch(b=u?yr(u):window,t){case"focusin":(Lo(b)||b.contentEditable==="true")&&(pr=b,Sl=u,hn=null);break;case"focusout":hn=Sl=pr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,Fo(h,r,d);break;case"selectionchange":if(sh)break;case"keydown":case"keyup":Fo(h,r,d)}var _;if(Pi)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else gr?Ou(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Iu&&r.locale!=="ko"&&(gr||S!=="onCompositionStart"?S==="onCompositionEnd"&&gr&&(_=ju()):(Et=d,Si="value"in Et?Et.value:Et.textContent,gr=!0)),b=$s(u,S),0<b.length&&(S=new jo(S,t,null,r,d),h.push({event:S,listeners:b}),_?S.data=_:(_=Ru(r),_!==null&&(S.data=_)))),(_=Gf?Kf(t,r):qf(t,r))&&(u=$s(u,"onBeforeInput"),0<u.length&&(d=new jo("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}Gu(h,e)})}function jn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $s(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=_n(t,r),l!=null&&n.unshift(jn(t,l,a)),l=_n(t,e),l!=null&&n.push(jn(t,l,a))),t=t.return}return n}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wo(t,e,r,n,a){for(var l=e._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=_n(r,l),c!=null&&i.unshift(jn(r,c,o))):a||(c=_n(r,l),c!=null&&i.push(jn(r,c,o)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var oh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function Ho(t){return(typeof t=="string"?t:""+t).replace(oh,`
`).replace(ch,"")}function is(t,e,r){if(e=Ho(e),Ho(t)!==e&&r)throw Error(k(425))}function Ds(){}var Tl=null,Pl=null;function Al(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,uh=typeof clearTimeout=="function"?clearTimeout:void 0,Vo=typeof Promise=="function"?Promise:void 0,dh=typeof queueMicrotask=="function"?queueMicrotask:typeof Vo<"u"?function(t){return Vo.resolve(null).then(t).catch(mh)}:jl;function mh(t){setTimeout(function(){throw t})}function Ba(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Cn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Cn(e)}function St(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Go(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Br,In="__reactProps$"+Br,ct="__reactContainer$"+Br,Il="__reactEvents$"+Br,fh="__reactListeners$"+Br,hh="__reactHandles$"+Br;function Vt(t){var e=t[Ye];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ct]||r[Ye]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Go(t);t!==null;){if(r=t[Ye])return r;t=Go(t)}return e}t=r,r=t.parentNode}return null}function Hn(t){return t=t[Ye]||t[ct],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function la(t){return t[In]||null}var Ol=[],xr=-1;function Rt(t){return{current:t}}function H(t){0>xr||(t.current=Ol[xr],Ol[xr]=null,xr--)}function z(t,e){xr++,Ol[xr]=t.current,t.current=e}var It={},me=Rt(It),Ee=Rt(!1),Jt=It;function Ir(t,e){var r=t.type.contextTypes;if(!r)return It;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=e[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function be(t){return t=t.childContextTypes,t!=null}function Ms(){H(Ee),H(me)}function Ko(t,e,r){if(me.current!==It)throw Error(k(168));z(me,e),z(Ee,r)}function qu(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(k(108,Ym(t)||"Unknown",a));return q({},r,n)}function Us(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||It,Jt=me.current,z(me,t),z(Ee,Ee.current),!0}function qo(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=qu(t,e,Jt),n.__reactInternalMemoizedMergedChildContext=t,H(Ee),H(me),z(me,t)):H(Ee),z(Ee,r)}var nt=null,ia=!1,Wa=!1;function Qu(t){nt===null?nt=[t]:nt.push(t)}function gh(t){ia=!0,Qu(t)}function Lt(){if(!Wa&&nt!==null){Wa=!0;var t=0,e=U;try{var r=nt;for(U=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nt=null,ia=!1}catch(a){throw nt!==null&&(nt=nt.slice(t+1)),wu(bi,Lt),a}finally{U=e,Wa=!1}}return null}var wr=[],Er=0,Fs=null,zs=0,je=[],Ie=0,Yt=null,at=1,lt="";function zt(t,e){wr[Er++]=zs,wr[Er++]=Fs,Fs=t,zs=e}function Ju(t,e,r){je[Ie++]=at,je[Ie++]=lt,je[Ie++]=Yt,Yt=t;var n=at;t=lt;var a=32-He(n)-1;n&=~(1<<a),r+=1;var l=32-He(e)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,at=1<<32-He(e)+a|r<<a|n,lt=l+t}else at=1<<l|r<<a|n,lt=t}function ji(t){t.return!==null&&(zt(t,1),Ju(t,1,0))}function Ii(t){for(;t===Fs;)Fs=wr[--Er],wr[Er]=null,zs=wr[--Er],wr[Er]=null;for(;t===Yt;)Yt=je[--Ie],je[Ie]=null,lt=je[--Ie],je[Ie]=null,at=je[--Ie],je[Ie]=null}var Se=null,ke=null,V=!1,We=null;function Yu(t,e){var r=Oe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Qo(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Se=t,ke=St(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Se=t,ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yt!==null?{id:at,overflow:lt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Oe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Se=t,ke=null,!0):!1;default:return!1}}function Rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ll(t){if(V){var e=ke;if(e){var r=e;if(!Qo(t,e)){if(Rl(t))throw Error(k(418));e=St(r.nextSibling);var n=Se;e&&Qo(t,e)?Yu(n,r):(t.flags=t.flags&-4097|2,V=!1,Se=t)}}else{if(Rl(t))throw Error(k(418));t.flags=t.flags&-4097|2,V=!1,Se=t}}}function Jo(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Se=t}function os(t){if(t!==Se)return!1;if(!V)return Jo(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Al(t.type,t.memoizedProps)),e&&(e=ke)){if(Rl(t))throw Xu(),Error(k(418));for(;e;)Yu(t,e),e=St(e.nextSibling)}if(Jo(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ke=St(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ke=null}}else ke=Se?St(t.stateNode.nextSibling):null;return!0}function Xu(){for(var t=ke;t;)t=St(t.nextSibling)}function Or(){ke=Se=null,V=!1}function Oi(t){We===null?We=[t]:We.push(t)}var ph=mt.ReactCurrentBatchConfig;function Zr(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var a=n,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},e._stringRef=l,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yo(t){var e=t._init;return e(t._payload)}function Zu(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function a(y,m){return y=At(y,m),y.index=0,y.sibling=null,y}function l(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,m,g,w){return m===null||m.tag!==6?(m=Ja(g,y.mode,w),m.return=y,m):(m=a(m,g),m.return=y,m)}function c(y,m,g,w){var E=g.type;return E===hr?d(y,m,g.props.children,w,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pt&&Yo(E)===m.type)?(w=a(m,g.props),w.ref=Zr(y,m,g),w.return=y,w):(w=Ts(g.type,g.key,g.props,null,y.mode,w),w.ref=Zr(y,m,g),w.return=y,w)}function u(y,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Ya(g,y.mode,w),m.return=y,m):(m=a(m,g.children||[]),m.return=y,m)}function d(y,m,g,w,E){return m===null||m.tag!==7?(m=Qt(g,y.mode,w,E),m.return=y,m):(m=a(m,g),m.return=y,m)}function h(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ja(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xn:return g=Ts(m.type,m.key,m.props,null,y.mode,g),g.ref=Zr(y,null,m),g.return=y,g;case fr:return m=Ya(m,y.mode,g),m.return=y,m;case pt:var w=m._init;return h(y,w(m._payload),g)}if(an(m)||qr(m))return m=Qt(m,y.mode,g,null),m.return=y,m;cs(y,m)}return null}function p(y,m,g,w){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(y,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xn:return g.key===E?c(y,m,g,w):null;case fr:return g.key===E?u(y,m,g,w):null;case pt:return E=g._init,p(y,m,E(g._payload),w)}if(an(g)||qr(g))return E!==null?null:d(y,m,g,w,null);cs(y,g)}return null}function x(y,m,g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,o(m,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xn:return y=y.get(w.key===null?g:w.key)||null,c(m,y,w,E);case fr:return y=y.get(w.key===null?g:w.key)||null,u(m,y,w,E);case pt:var b=w._init;return x(y,m,g,b(w._payload),E)}if(an(w)||qr(w))return y=y.get(g)||null,d(m,y,w,E,null);cs(m,w)}return null}function f(y,m,g,w){for(var E=null,b=null,_=m,S=m=0,$=null;_!==null&&S<g.length;S++){_.index>S?($=_,_=null):$=_.sibling;var L=p(y,_,g[S],w);if(L===null){_===null&&(_=$);break}t&&_&&L.alternate===null&&e(y,_),m=l(L,m,S),b===null?E=L:b.sibling=L,b=L,_=$}if(S===g.length)return r(y,_),V&&zt(y,S),E;if(_===null){for(;S<g.length;S++)_=h(y,g[S],w),_!==null&&(m=l(_,m,S),b===null?E=_:b.sibling=_,b=_);return V&&zt(y,S),E}for(_=n(y,_);S<g.length;S++)$=x(_,y,S,g[S],w),$!==null&&(t&&$.alternate!==null&&_.delete($.key===null?S:$.key),m=l($,m,S),b===null?E=$:b.sibling=$,b=$);return t&&_.forEach(function(Me){return e(y,Me)}),V&&zt(y,S),E}function v(y,m,g,w){var E=qr(g);if(typeof E!="function")throw Error(k(150));if(g=E.call(g),g==null)throw Error(k(151));for(var b=E=null,_=m,S=m=0,$=null,L=g.next();_!==null&&!L.done;S++,L=g.next()){_.index>S?($=_,_=null):$=_.sibling;var Me=p(y,_,L.value,w);if(Me===null){_===null&&(_=$);break}t&&_&&Me.alternate===null&&e(y,_),m=l(Me,m,S),b===null?E=Me:b.sibling=Me,b=Me,_=$}if(L.done)return r(y,_),V&&zt(y,S),E;if(_===null){for(;!L.done;S++,L=g.next())L=h(y,L.value,w),L!==null&&(m=l(L,m,S),b===null?E=L:b.sibling=L,b=L);return V&&zt(y,S),E}for(_=n(y,_);!L.done;S++,L=g.next())L=x(_,y,S,L.value,w),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?S:L.key),m=l(L,m,S),b===null?E=L:b.sibling=L,b=L);return t&&_.forEach(function(Gr){return e(y,Gr)}),V&&zt(y,S),E}function N(y,m,g,w){if(typeof g=="object"&&g!==null&&g.type===hr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xn:e:{for(var E=g.key,b=m;b!==null;){if(b.key===E){if(E=g.type,E===hr){if(b.tag===7){r(y,b.sibling),m=a(b,g.props.children),m.return=y,y=m;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pt&&Yo(E)===b.type){r(y,b.sibling),m=a(b,g.props),m.ref=Zr(y,b,g),m.return=y,y=m;break e}r(y,b);break}else e(y,b);b=b.sibling}g.type===hr?(m=Qt(g.props.children,y.mode,w,g.key),m.return=y,y=m):(w=Ts(g.type,g.key,g.props,null,y.mode,w),w.ref=Zr(y,m,g),w.return=y,y=w)}return i(y);case fr:e:{for(b=g.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=a(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=Ya(g,y.mode,w),m.return=y,y=m}return i(y);case pt:return b=g._init,N(y,m,b(g._payload),w)}if(an(g))return f(y,m,g,w);if(qr(g))return v(y,m,g,w);cs(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=a(m,g),m.return=y,y=m):(r(y,m),m=Ja(g,y.mode,w),m.return=y,y=m),i(y)):r(y,m)}return N}var Rr=Zu(!0),ed=Zu(!1),Bs=Rt(null),Ws=null,br=null,Ri=null;function Li(){Ri=br=Ws=null}function $i(t){var e=Bs.current;H(Bs),t._currentValue=e}function $l(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pr(t,e){Ws=t,Ri=br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(we=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(Ri!==t)if(t={context:t,memoizedValue:e,next:null},br===null){if(Ws===null)throw Error(k(308));br=t,Ws.dependencies={lanes:0,firstContext:t}}else br=br.next=t;return e}var Gt=null;function Di(t){Gt===null?Gt=[t]:Gt.push(t)}function td(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Di(e)):(r.next=a.next,a.next=r),e.interleaved=r,ut(t,n)}function ut(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var vt=!1;function Mi(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function it(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ct(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,ut(t,r)}return a=n.interleaved,a===null?(e.next=e,Di(n)):(e.next=a.next,a.next=e),n.interleaved=e,ut(t,r)}function bs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ni(t,r)}}function Xo(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=e:l=l.next=e}else a=l=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Hs(t,e,r,n){var a=t.updateQueue;vt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(l!==null){var h=a.baseState;i=0,d=u=c=null,o=l;do{var p=o.lane,x=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,v=o;switch(p=e,x=r,v.tag){case 1:if(f=v.payload,typeof f=="function"){h=f.call(x,h,p);break e}h=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,p=typeof f=="function"?f.call(x,h,p):f,p==null)break e;h=q({},h,p);break e;case 2:vt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else x={eventTime:x,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else l===null&&(a.shared.lanes=0);Zt|=i,t.lanes=i,t.memoizedState=h}}function Zo(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(k(191,a));a.call(n)}}}var Vn={},Ze=Rt(Vn),On=Rt(Vn),Rn=Rt(Vn);function Kt(t){if(t===Vn)throw Error(k(174));return t}function Ui(t,e){switch(z(Rn,e),z(On,t),z(Ze,Vn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pl(e,t)}H(Ze),z(Ze,e)}function Lr(){H(Ze),H(On),H(Rn)}function nd(t){Kt(Rn.current);var e=Kt(Ze.current),r=pl(e,t.type);e!==r&&(z(On,t),z(Ze,r))}function Fi(t){On.current===t&&(H(Ze),H(On))}var G=Rt(0);function Vs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ha=[];function zi(){for(var t=0;t<Ha.length;t++)Ha[t]._workInProgressVersionPrimary=null;Ha.length=0}var Ns=mt.ReactCurrentDispatcher,Va=mt.ReactCurrentBatchConfig,Xt=0,K=null,te=null,se=null,Gs=!1,gn=!1,Ln=0,vh=0;function ce(){throw Error(k(321))}function Bi(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ge(t[r],e[r]))return!1;return!0}function Wi(t,e,r,n,a,l){if(Xt=l,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?Eh:bh,t=r(n,a),gn){l=0;do{if(gn=!1,Ln=0,25<=l)throw Error(k(301));l+=1,se=te=null,e.updateQueue=null,Ns.current=Nh,t=r(n,a)}while(gn)}if(Ns.current=Ks,e=te!==null&&te.next!==null,Xt=0,se=te=K=null,Gs=!1,e)throw Error(k(300));return t}function Hi(){var t=Ln!==0;return Ln=0,t}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?K.memoizedState=se=t:se=se.next=t,se}function De(){if(te===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=se===null?K.memoizedState:se.next;if(e!==null)se=e,te=t;else{if(t===null)throw Error(k(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},se===null?K.memoizedState=se=t:se=se.next=t}return se}function $n(t,e){return typeof e=="function"?e(t):e}function Ga(t){var e=De(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=te,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,u=l;do{var d=u.lane;if((Xt&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,K.lanes|=d,Zt|=d}u=u.next}while(u!==null&&u!==l);c===null?i=n:c.next=o,Ge(n,e.memoizedState)||(we=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,K.lanes|=l,Zt|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ka(t){var e=De(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);Ge(l,e.memoizedState)||(we=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),r.lastRenderedState=l}return[l,n]}function sd(){}function ad(t,e){var r=K,n=De(),a=e(),l=!Ge(n.memoizedState,a);if(l&&(n.memoizedState=a,we=!0),n=n.queue,Vi(od.bind(null,r,n,t),[t]),n.getSnapshot!==e||l||se!==null&&se.memoizedState.tag&1){if(r.flags|=2048,Dn(9,id.bind(null,r,n,a,e),void 0,null),ae===null)throw Error(k(349));Xt&30||ld(r,e,a)}return a}function ld(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function id(t,e,r,n){e.value=r,e.getSnapshot=n,cd(e)&&ud(t)}function od(t,e,r){return r(function(){cd(e)&&ud(t)})}function cd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ge(t,r)}catch{return!0}}function ud(t){var e=ut(t,1);e!==null&&Ve(e,t,1,-1)}function ec(t){var e=Qe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:t},e.queue=t,t=t.dispatch=wh.bind(null,K,t),[e.memoizedState,t]}function Dn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dd(){return De().memoizedState}function _s(t,e,r,n){var a=Qe();K.flags|=t,a.memoizedState=Dn(1|e,r,void 0,n===void 0?null:n)}function oa(t,e,r,n){var a=De();n=n===void 0?null:n;var l=void 0;if(te!==null){var i=te.memoizedState;if(l=i.destroy,n!==null&&Bi(n,i.deps)){a.memoizedState=Dn(e,r,l,n);return}}K.flags|=t,a.memoizedState=Dn(1|e,r,l,n)}function tc(t,e){return _s(8390656,8,t,e)}function Vi(t,e){return oa(2048,8,t,e)}function md(t,e){return oa(4,2,t,e)}function fd(t,e){return oa(4,4,t,e)}function hd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gd(t,e,r){return r=r!=null?r.concat([t]):null,oa(4,4,hd.bind(null,e,t),r)}function Gi(){}function pd(t,e){var r=De();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bi(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vd(t,e){var r=De();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Bi(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yd(t,e,r){return Xt&21?(Ge(r,e)||(r=Nu(),K.lanes|=r,Zt|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,we=!0),t.memoizedState=r)}function yh(t,e){var r=U;U=r!==0&&4>r?r:4,t(!0);var n=Va.transition;Va.transition={};try{t(!1),e()}finally{U=r,Va.transition=n}}function xd(){return De().memoizedState}function xh(t,e,r){var n=Pt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wd(t))Ed(e,r);else if(r=td(t,e,r,n),r!==null){var a=he();Ve(r,t,n,a),bd(r,e,n)}}function wh(t,e,r){var n=Pt(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wd(t))Ed(e,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var i=e.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ge(o,i)){var c=e.interleaved;c===null?(a.next=a,Di(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=td(t,e,a,n),r!==null&&(a=he(),Ve(r,t,n,a),bd(r,e,n))}}function wd(t){var e=t.alternate;return t===K||e!==null&&e===K}function Ed(t,e){gn=Gs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function bd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ni(t,r)}}var Ks={readContext:$e,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Eh={readContext:$e,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:tc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_s(4194308,4,hd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var r=Qe();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qe();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xh.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:ec,useDebugValue:Gi,useDeferredValue:function(t){return Qe().memoizedState=t},useTransition:function(){var t=ec(!1),e=t[0];return t=yh.bind(null,t[1]),Qe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,a=Qe();if(V){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),ae===null)throw Error(k(349));Xt&30||ld(n,e,r)}a.memoizedState=r;var l={value:r,getSnapshot:e};return a.queue=l,tc(od.bind(null,n,l,t),[t]),n.flags|=2048,Dn(9,id.bind(null,n,l,r,e),void 0,null),r},useId:function(){var t=Qe(),e=ae.identifierPrefix;if(V){var r=lt,n=at;r=(n&~(1<<32-He(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ln++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vh++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bh={readContext:$e,useCallback:pd,useContext:$e,useEffect:Vi,useImperativeHandle:gd,useInsertionEffect:md,useLayoutEffect:fd,useMemo:vd,useReducer:Ga,useRef:dd,useState:function(){return Ga($n)},useDebugValue:Gi,useDeferredValue:function(t){var e=De();return yd(e,te.memoizedState,t)},useTransition:function(){var t=Ga($n)[0],e=De().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:ad,useId:xd,unstable_isNewReconciler:!1},Nh={readContext:$e,useCallback:pd,useContext:$e,useEffect:Vi,useImperativeHandle:gd,useInsertionEffect:md,useLayoutEffect:fd,useMemo:vd,useReducer:Ka,useRef:dd,useState:function(){return Ka($n)},useDebugValue:Gi,useDeferredValue:function(t){var e=De();return te===null?e.memoizedState=t:yd(e,te.memoizedState,t)},useTransition:function(){var t=Ka($n)[0],e=De().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:ad,useId:xd,unstable_isNewReconciler:!1};function Fe(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Dl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:q({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ca={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=he(),a=Pt(t),l=it(n,a);l.payload=e,r!=null&&(l.callback=r),e=Ct(t,l,a),e!==null&&(Ve(e,t,a,n),bs(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=he(),a=Pt(t),l=it(n,a);l.tag=1,l.payload=e,r!=null&&(l.callback=r),e=Ct(t,l,a),e!==null&&(Ve(e,t,a,n),bs(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=he(),n=Pt(t),a=it(r,n);a.tag=2,e!=null&&(a.callback=e),e=Ct(t,a,n),e!==null&&(Ve(e,t,n,r),bs(e,t,n))}};function rc(t,e,r,n,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,i):e.prototype&&e.prototype.isPureReactComponent?!Pn(r,n)||!Pn(a,l):!0}function Nd(t,e,r){var n=!1,a=It,l=e.contextType;return typeof l=="object"&&l!==null?l=$e(l):(a=be(e)?Jt:me.current,n=e.contextTypes,l=(n=n!=null)?Ir(t,a):It),e=new e(r,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ca,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),e}function nc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ca.enqueueReplaceState(e,e.state,null)}function Ml(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Mi(t);var l=e.contextType;typeof l=="object"&&l!==null?a.context=$e(l):(l=be(e)?Jt:me.current,a.context=Ir(t,l)),a.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Dl(t,e,l,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&ca.enqueueReplaceState(a,a.state,null),Hs(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function $r(t,e){try{var r="",n=e;do r+=Jm(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:a,digest:null}}function qa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ul(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _h=typeof WeakMap=="function"?WeakMap:Map;function _d(t,e,r){r=it(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Qs||(Qs=!0,Ql=n),Ul(t,e)},r}function kd(t,e,r){r=it(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){Ul(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Ul(t,e),typeof n!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function sc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _h;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=Mh.bind(null,t,e,r),e.then(t,t))}function ac(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lc(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=it(-1,1),e.tag=2,Ct(r,e,1))),r.lanes|=1),t)}var kh=mt.ReactCurrentOwner,we=!1;function fe(t,e,r,n){e.child=t===null?ed(e,null,r,n):Rr(e,t.child,r,n)}function ic(t,e,r,n,a){r=r.render;var l=e.ref;return Pr(e,a),n=Wi(t,e,r,n,l,a),r=Hi(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,dt(t,e,a)):(V&&r&&ji(e),e.flags|=1,fe(t,e,n,a),e.child)}function oc(t,e,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!eo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=l,Sd(t,e,l,n,a)):(t=Ts(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Pn,r(i,n)&&t.ref===e.ref)return dt(t,e,a)}return e.flags|=1,t=At(l,n),t.ref=e.ref,t.return=e,e.child=t}function Sd(t,e,r,n,a){if(t!==null){var l=t.memoizedProps;if(Pn(l,n)&&t.ref===e.ref)if(we=!1,e.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(we=!0);else return e.lanes=t.lanes,dt(t,e,a)}return Fl(t,e,r,n,a)}function Cd(t,e,r){var n=e.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(_r,_e),_e|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(_r,_e),_e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,z(_r,_e),_e|=n}else l!==null?(n=l.baseLanes|r,e.memoizedState=null):n=r,z(_r,_e),_e|=n;return fe(t,e,a,r),e.child}function Td(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Fl(t,e,r,n,a){var l=be(r)?Jt:me.current;return l=Ir(e,l),Pr(e,a),r=Wi(t,e,r,n,l,a),n=Hi(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,dt(t,e,a)):(V&&n&&ji(e),e.flags|=1,fe(t,e,r,a),e.child)}function cc(t,e,r,n,a){if(be(r)){var l=!0;Us(e)}else l=!1;if(Pr(e,a),e.stateNode===null)ks(t,e),Nd(e,r,n),Ml(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=$e(u):(u=be(r)?Jt:me.current,u=Ir(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&nc(e,i,n,u),vt=!1;var p=e.memoizedState;i.state=p,Hs(e,n,i,a),c=e.memoizedState,o!==n||p!==c||Ee.current||vt?(typeof d=="function"&&(Dl(e,r,d,n),c=e.memoizedState),(o=vt||rc(e,r,o,n,p,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,rd(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Fe(e.type,o),i.props=u,h=e.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=$e(c):(c=be(r)?Jt:me.current,c=Ir(e,c));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||p!==c)&&nc(e,i,n,c),vt=!1,p=e.memoizedState,i.state=p,Hs(e,n,i,a);var f=e.memoizedState;o!==h||p!==f||Ee.current||vt?(typeof x=="function"&&(Dl(e,r,x,n),f=e.memoizedState),(u=vt||rc(e,r,u,n,p,f,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,f,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,f,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return zl(t,e,r,n,l,a)}function zl(t,e,r,n,a,l){Td(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&qo(e,r,!1),dt(t,e,l);n=e.stateNode,kh.current=e;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Rr(e,t.child,null,l),e.child=Rr(e,null,o,l)):fe(t,e,o,l),e.memoizedState=n.state,a&&qo(e,r,!0),e.child}function Pd(t){var e=t.stateNode;e.pendingContext?Ko(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ko(t,e.context,!1),Ui(t,e.containerInfo)}function uc(t,e,r,n,a){return Or(),Oi(a),e.flags|=256,fe(t,e,r,n),e.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Wl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,e,r){var n=e.pendingProps,a=G.current,l=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),z(G,a&1),t===null)return Ll(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,l?(n=e.mode,l=e.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ma(i,n,0,null),t=Qt(t,n,r,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=Wl(r),e.memoizedState=Bl,t):Ki(e,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Sh(t,e,i,n,o,a,r);if(l){l=n.fallback,i=e.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=At(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=At(o,l):(l=Qt(l,i,r,null),l.flags|=2),l.return=e,n.return=e,n.sibling=l,e.child=n,n=l,l=e.child,i=t.child.memoizedState,i=i===null?Wl(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,e.memoizedState=Bl,n}return l=t.child,t=l.sibling,n=At(l,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ki(t,e){return e=ma({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function us(t,e,r,n){return n!==null&&Oi(n),Rr(e,t.child,null,r),t=Ki(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sh(t,e,r,n,a,l,i){if(r)return e.flags&256?(e.flags&=-257,n=qa(Error(k(422))),us(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=n.fallback,a=e.mode,n=ma({mode:"visible",children:n.children},a,0,null),l=Qt(l,a,i,null),l.flags|=2,n.return=e,l.return=e,n.sibling=l,e.child=n,e.mode&1&&Rr(e,t.child,null,i),e.child.memoizedState=Wl(i),e.memoizedState=Bl,l);if(!(e.mode&1))return us(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(k(419)),n=qa(l,n,void 0),us(t,e,i,n)}if(o=(i&t.childLanes)!==0,we||o){if(n=ae,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ut(t,a),Ve(n,t,a,-1))}return Zi(),n=qa(Error(k(421))),us(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Uh.bind(null,t),a._reactRetry=e,null):(t=l.treeContext,ke=St(a.nextSibling),Se=e,V=!0,We=null,t!==null&&(je[Ie++]=at,je[Ie++]=lt,je[Ie++]=Yt,at=t.id,lt=t.overflow,Yt=e),e=Ki(e,n.children),e.flags|=4096,e)}function dc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$l(t.return,e,r)}function Qa(t,e,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function jd(t,e,r){var n=e.pendingProps,a=n.revealOrder,l=n.tail;if(fe(t,e,n.children,r),n=G.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dc(t,r,e);else if(t.tag===19)dc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(z(G,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Vs(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Qa(e,!1,a,r,l);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Vs(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Qa(e,!0,r,null,l);break;case"together":Qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zt|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=At(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=At(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ch(t,e,r){switch(e.tag){case 3:Pd(e),Or();break;case 5:nd(e);break;case 1:be(e.type)&&Us(e);break;case 4:Ui(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;z(Bs,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(z(G,G.current&1),e.flags|=128,null):r&e.child.childLanes?Ad(t,e,r):(z(G,G.current&1),t=dt(t,e,r),t!==null?t.sibling:null);z(G,G.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jd(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),z(G,G.current),n)break;return null;case 22:case 23:return e.lanes=0,Cd(t,e,r)}return dt(t,e,r)}var Id,Hl,Od,Rd;Id=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hl=function(){};Od=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Kt(Ze.current);var l=null;switch(r){case"input":a=ml(t,a),n=ml(t,n),l=[];break;case"select":a=q({},a,{value:void 0}),n=q({},n,{value:void 0}),l=[];break;case"textarea":a=gl(t,a),n=gl(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ds)}vl(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&B("scroll",t),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(e.updateQueue=u)&&(e.flags|=4)}};Rd=function(t,e,r,n){r!==n&&(e.flags|=4)};function en(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Th(t,e,r){var n=e.pendingProps;switch(Ii(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(e),null;case 1:return be(e.type)&&Ms(),ue(e),null;case 3:return n=e.stateNode,Lr(),H(Ee),H(me),zi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,We!==null&&(Xl(We),We=null))),Hl(t,e),ue(e),null;case 5:Fi(e);var a=Kt(Rn.current);if(r=e.type,t!==null&&e.stateNode!=null)Od(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return ue(e),null}if(t=Kt(Ze.current),os(e)){n=e.stateNode,r=e.type;var l=e.memoizedProps;switch(n[Ye]=e,n[In]=l,t=(e.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(a=0;a<on.length;a++)B(on[a],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":wo(n,l),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},B("invalid",n);break;case"textarea":bo(n,l),B("invalid",n)}vl(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&is(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&is(n.textContent,o,t),a=["children",""+o]):bn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&B("scroll",n)}switch(r){case"input":Zn(n),Eo(n,l,!0);break;case"textarea":Zn(n),No(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Ds)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ou(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ye]=e,t[In]=n,Id(t,e,!1,!1),e.stateNode=t;e:{switch(i=yl(r,n),r){case"dialog":B("cancel",t),B("close",t),a=n;break;case"iframe":case"object":case"embed":B("load",t),a=n;break;case"video":case"audio":for(a=0;a<on.length;a++)B(on[a],t);a=n;break;case"source":B("error",t),a=n;break;case"img":case"image":case"link":B("error",t),B("load",t),a=n;break;case"details":B("toggle",t),a=n;break;case"input":wo(t,n),a=ml(t,n),B("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=q({},n,{value:void 0}),B("invalid",t);break;case"textarea":bo(t,n),a=gl(t,n),B("invalid",t);break;default:a=n}vl(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?du(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cu(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nn(t,c):typeof c=="number"&&Nn(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&B("scroll",t):c!=null&&vi(t,l,c,i))}switch(r){case"input":Zn(t),Eo(t,n,!1);break;case"textarea":Zn(t),No(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jt(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?kr(t,!!n.multiple,l,!1):n.defaultValue!=null&&kr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Ds)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ue(e),null;case 6:if(t&&e.stateNode!=null)Rd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=Kt(Rn.current),Kt(Ze.current),os(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ye]=e,(l=n.nodeValue!==r)&&(t=Se,t!==null))switch(t.tag){case 3:is(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&is(n.nodeValue,r,(t.mode&1)!==0)}l&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ye]=e,e.stateNode=n}return ue(e),null;case 13:if(H(G),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&ke!==null&&e.mode&1&&!(e.flags&128))Xu(),Or(),e.flags|=98560,l=!1;else if(l=os(e),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(k(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(k(317));l[Ye]=e}else Or(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ue(e),l=!1}else We!==null&&(Xl(We),We=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?re===0&&(re=3):Zi())),e.updateQueue!==null&&(e.flags|=4),ue(e),null);case 4:return Lr(),Hl(t,e),t===null&&An(e.stateNode.containerInfo),ue(e),null;case 10:return $i(e.type._context),ue(e),null;case 17:return be(e.type)&&Ms(),ue(e),null;case 19:if(H(G),l=e.memoizedState,l===null)return ue(e),null;if(n=(e.flags&128)!==0,i=l.rendering,i===null)if(n)en(l,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Vs(t),i!==null){for(e.flags|=128,en(l,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)l=r,t=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return z(G,G.current&1|2),e.child}t=t.sibling}l.tail!==null&&Y()>Dr&&(e.flags|=128,n=!0,en(l,!1),e.lanes=4194304)}else{if(!n)if(t=Vs(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),en(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!V)return ue(e),null}else 2*Y()-l.renderingStartTime>Dr&&r!==1073741824&&(e.flags|=128,n=!0,en(l,!1),e.lanes=4194304);l.isBackwards?(i.sibling=e.child,e.child=i):(r=l.last,r!==null?r.sibling=i:e.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Y(),e.sibling=null,r=G.current,z(G,n?r&1|2:r&1),e):(ue(e),null);case 22:case 23:return Xi(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_e&1073741824&&(ue(e),e.subtreeFlags&6&&(e.flags|=8192)):ue(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Ph(t,e){switch(Ii(e),e.tag){case 1:return be(e.type)&&Ms(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lr(),H(Ee),H(me),zi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fi(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Or()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return Lr(),null;case 10:return $i(e.type._context),null;case 22:case 23:return Xi(),null;case 24:return null;default:return null}}var ds=!1,de=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,T=null;function Nr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function Vl(t,e,r){try{r()}catch(n){Q(t,e,n)}}var mc=!1;function jh(t,e){if(Tl=Rs,t=Uu(),Ai(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var x;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==l||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(x=h.firstChild)!==null;)p=h,h=x;for(;;){if(h===t)break t;if(p===r&&++u===a&&(o=i),p===l&&++d===n&&(c=i),(x=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pl={focusedElem:t,selectionRange:r},Rs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,N=f.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fe(e.type,v),N);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){Q(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return f=mc,mc=!1,f}function pn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Vl(e,r,l)}a=a.next}while(a!==n)}}function ua(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ld(t){var e=t.alternate;e!==null&&(t.alternate=null,Ld(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[In],delete e[Il],delete e[fh],delete e[hh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function fc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ds));else if(n!==4&&(t=t.child,t!==null))for(Kl(t,e,r),t=t.sibling;t!==null;)Kl(t,e,r),t=t.sibling}function ql(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ql(t,e,r),t=t.sibling;t!==null;)ql(t,e,r),t=t.sibling}var le=null,ze=!1;function ft(t,e,r){for(r=r.child;r!==null;)Dd(t,e,r),r=r.sibling}function Dd(t,e,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ra,r)}catch{}switch(r.tag){case 5:de||Nr(r,e);case 6:var n=le,a=ze;le=null,ft(t,e,r),le=n,ze=a,le!==null&&(ze?(t=le,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):le.removeChild(r.stateNode));break;case 18:le!==null&&(ze?(t=le,r=r.stateNode,t.nodeType===8?Ba(t.parentNode,r):t.nodeType===1&&Ba(t,r),Cn(t)):Ba(le,r.stateNode));break;case 4:n=le,a=ze,le=r.stateNode.containerInfo,ze=!0,ft(t,e,r),le=n,ze=a;break;case 0:case 11:case 14:case 15:if(!de&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Vl(r,e,i),a=a.next}while(a!==n)}ft(t,e,r);break;case 1:if(!de&&(Nr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Q(r,e,o)}ft(t,e,r);break;case 21:ft(t,e,r);break;case 22:r.mode&1?(de=(n=de)||r.memoizedState!==null,ft(t,e,r),de=n):ft(t,e,r);break;default:ft(t,e,r)}}function hc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ah),e.forEach(function(n){var a=Fh.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ue(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:le=o.stateNode,ze=!1;break e;case 3:le=o.stateNode.containerInfo,ze=!0;break e;case 4:le=o.stateNode.containerInfo,ze=!0;break e}o=o.return}if(le===null)throw Error(k(160));Dd(l,i,a),le=null,ze=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Q(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Md(e,t),e=e.sibling}function Md(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ue(e,t),Ke(t),n&4){try{pn(3,t,t.return),ua(3,t)}catch(v){Q(t,t.return,v)}try{pn(5,t,t.return)}catch(v){Q(t,t.return,v)}}break;case 1:Ue(e,t),Ke(t),n&512&&r!==null&&Nr(r,r.return);break;case 5:if(Ue(e,t),Ke(t),n&512&&r!==null&&Nr(r,r.return),t.flags&32){var a=t.stateNode;try{Nn(a,"")}catch(v){Q(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&lu(a,l),yl(o,i);var u=yl(o,l);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?du(a,h):d==="dangerouslySetInnerHTML"?cu(a,h):d==="children"?Nn(a,h):vi(a,d,h,u)}switch(o){case"input":fl(a,l);break;case"textarea":iu(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?kr(a,!!l.multiple,x,!1):p!==!!l.multiple&&(l.defaultValue!=null?kr(a,!!l.multiple,l.defaultValue,!0):kr(a,!!l.multiple,l.multiple?[]:"",!1))}a[In]=l}catch(v){Q(t,t.return,v)}}break;case 6:if(Ue(e,t),Ke(t),n&4){if(t.stateNode===null)throw Error(k(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(v){Q(t,t.return,v)}}break;case 3:if(Ue(e,t),Ke(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Cn(e.containerInfo)}catch(v){Q(t,t.return,v)}break;case 4:Ue(e,t),Ke(t);break;case 13:Ue(e,t),Ke(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ji=Y())),n&4&&hc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(de=(u=de)||d,Ue(e,t),de=u):Ue(e,t),Ke(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(p=T,x=p.child,p.tag){case 0:case 11:case 14:case 15:pn(4,p,p.return);break;case 1:Nr(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(v){Q(n,r,v)}}break;case 5:Nr(p,p.return);break;case 22:if(p.memoizedState!==null){pc(h);continue}}x!==null?(x.return=p,T=x):pc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=uu("display",i))}catch(v){Q(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Q(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ue(e,t),Ke(t),n&4&&hc(t);break;case 21:break;default:Ue(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($d(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Nn(a,""),n.flags&=-33);var l=fc(t);ql(t,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=fc(t);Kl(t,o,i);break;default:throw Error(k(161))}}catch(c){Q(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ih(t,e,r){T=t,Ud(t)}function Ud(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var a=T,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ds;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||de;o=ds;var u=de;if(ds=i,(de=c)&&!u)for(T=a;T!==null;)i=T,c=i.child,i.tag===22&&i.memoizedState!==null?vc(a):c!==null?(c.return=i,T=c):vc(a);for(;l!==null;)T=l,Ud(l),l=l.sibling;T=a,ds=o,de=u}gc(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,T=l):gc(t)}}function gc(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||ua(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!de)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Fe(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&Zo(e,l,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zo(e,i,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}de||e.flags&512&&Gl(e)}catch(p){Q(e,e.return,p)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function pc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function vc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ua(4,e)}catch(c){Q(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Q(e,a,c)}}var l=e.return;try{Gl(e)}catch(c){Q(e,l,c)}break;case 5:var i=e.return;try{Gl(e)}catch(c){Q(e,i,c)}}}catch(c){Q(e,e.return,c)}if(e===t){T=null;break}var o=e.sibling;if(o!==null){o.return=e.return,T=o;break}T=e.return}}var Oh=Math.ceil,qs=mt.ReactCurrentDispatcher,qi=mt.ReactCurrentOwner,Re=mt.ReactCurrentBatchConfig,D=0,ae=null,Z=null,ie=0,_e=0,_r=Rt(0),re=0,Mn=null,Zt=0,da=0,Qi=0,vn=null,ye=null,Ji=0,Dr=1/0,tt=null,Qs=!1,Ql=null,Tt=null,ms=!1,bt=null,Js=0,yn=0,Jl=null,Ss=-1,Cs=0;function he(){return D&6?Y():Ss!==-1?Ss:Ss=Y()}function Pt(t){return t.mode&1?D&2&&ie!==0?ie&-ie:ph.transition!==null?(Cs===0&&(Cs=Nu()),Cs):(t=U,t!==0||(t=window.event,t=t===void 0?16:Au(t.type)),t):1}function Ve(t,e,r,n){if(50<yn)throw yn=0,Jl=null,Error(k(185));Bn(t,r,n),(!(D&2)||t!==ae)&&(t===ae&&(!(D&2)&&(da|=r),re===4&&xt(t,ie)),Ne(t,n),r===1&&D===0&&!(e.mode&1)&&(Dr=Y()+500,ia&&Lt()))}function Ne(t,e){var r=t.callbackNode;pf(t,e);var n=Os(t,t===ae?ie:0);if(n===0)r!==null&&So(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&So(r),e===1)t.tag===0?gh(yc.bind(null,t)):Qu(yc.bind(null,t)),dh(function(){!(D&6)&&Lt()}),r=null;else{switch(_u(n)){case 1:r=bi;break;case 4:r=Eu;break;case 16:r=Is;break;case 536870912:r=bu;break;default:r=Is}r=Kd(r,Fd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Fd(t,e){if(Ss=-1,Cs=0,D&6)throw Error(k(327));var r=t.callbackNode;if(Ar()&&t.callbackNode!==r)return null;var n=Os(t,t===ae?ie:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ys(t,n);else{e=n;var a=D;D|=2;var l=Bd();(ae!==t||ie!==e)&&(tt=null,Dr=Y()+500,qt(t,e));do try{$h();break}catch(o){zd(t,o)}while(1);Li(),qs.current=l,D=a,Z!==null?e=0:(ae=null,ie=0,e=re)}if(e!==0){if(e===2&&(a=Nl(t),a!==0&&(n=a,e=Yl(t,a))),e===1)throw r=Mn,qt(t,0),xt(t,n),Ne(t,Y()),r;if(e===6)xt(t,n);else{if(a=t.current.alternate,!(n&30)&&!Rh(a)&&(e=Ys(t,n),e===2&&(l=Nl(t),l!==0&&(n=l,e=Yl(t,l))),e===1))throw r=Mn,qt(t,0),xt(t,n),Ne(t,Y()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:Bt(t,ye,tt);break;case 3:if(xt(t,n),(n&130023424)===n&&(e=Ji+500-Y(),10<e)){if(Os(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){he(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=jl(Bt.bind(null,t,ye,tt),e);break}Bt(t,ye,tt);break;case 4:if(xt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-He(n);l=1<<i,i=e[i],i>a&&(a=i),n&=~l}if(n=a,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oh(n/1960))-n,10<n){t.timeoutHandle=jl(Bt.bind(null,t,ye,tt),n);break}Bt(t,ye,tt);break;case 5:Bt(t,ye,tt);break;default:throw Error(k(329))}}}return Ne(t,Y()),t.callbackNode===r?Fd.bind(null,t):null}function Yl(t,e){var r=vn;return t.current.memoizedState.isDehydrated&&(qt(t,e).flags|=256),t=Ys(t,e),t!==2&&(e=ye,ye=r,e!==null&&Xl(e)),t}function Xl(t){ye===null?ye=t:ye.push.apply(ye,t)}function Rh(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ge(l(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Qi,e&=~da,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-He(e),n=1<<r;t[r]=-1,e&=~n}}function yc(t){if(D&6)throw Error(k(327));Ar();var e=Os(t,0);if(!(e&1))return Ne(t,Y()),null;var r=Ys(t,e);if(t.tag!==0&&r===2){var n=Nl(t);n!==0&&(e=n,r=Yl(t,n))}if(r===1)throw r=Mn,qt(t,0),xt(t,e),Ne(t,Y()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bt(t,ye,tt),Ne(t,Y()),null}function Yi(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Dr=Y()+500,ia&&Lt())}}function er(t){bt!==null&&bt.tag===0&&!(D&6)&&Ar();var e=D;D|=1;var r=Re.transition,n=U;try{if(Re.transition=null,U=1,t)return t()}finally{U=n,Re.transition=r,D=e,!(D&6)&&Lt()}}function Xi(){_e=_r.current,H(_r)}function qt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uh(r)),Z!==null)for(r=Z.return;r!==null;){var n=r;switch(Ii(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ms();break;case 3:Lr(),H(Ee),H(me),zi();break;case 5:Fi(n);break;case 4:Lr();break;case 13:H(G);break;case 19:H(G);break;case 10:$i(n.type._context);break;case 22:case 23:Xi()}r=r.return}if(ae=t,Z=t=At(t.current,null),ie=_e=e,re=0,Mn=null,Qi=da=Zt=0,ye=vn=null,Gt!==null){for(e=0;e<Gt.length;e++)if(r=Gt[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}Gt=null}return t}function zd(t,e){do{var r=Z;try{if(Li(),Ns.current=Ks,Gs){for(var n=K.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Gs=!1}if(Xt=0,se=te=K=null,gn=!1,Ln=0,qi.current=null,r===null||r.return===null){re=1,Mn=e,Z=null;break}e:{var l=t,i=r.return,o=r,c=e;if(e=ie,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=ac(i);if(x!==null){x.flags&=-257,lc(x,i,o,l,e),x.mode&1&&sc(l,u,e),e=x,c=u;var f=e.updateQueue;if(f===null){var v=new Set;v.add(c),e.updateQueue=v}else f.add(c);break e}else{if(!(e&1)){sc(l,u,e),Zi();break e}c=Error(k(426))}}else if(V&&o.mode&1){var N=ac(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),lc(N,i,o,l,e),Oi($r(c,o));break e}}l=c=$r(c,o),re!==4&&(re=2),vn===null?vn=[l]:vn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var y=_d(l,c,e);Xo(l,y);break e;case 1:o=c;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Tt===null||!Tt.has(g)))){l.flags|=65536,e&=-e,l.lanes|=e;var w=kd(l,o,e);Xo(l,w);break e}}l=l.return}while(l!==null)}Hd(r)}catch(E){e=E,Z===r&&r!==null&&(Z=r=r.return);continue}break}while(1)}function Bd(){var t=qs.current;return qs.current=Ks,t===null?Ks:t}function Zi(){(re===0||re===3||re===2)&&(re=4),ae===null||!(Zt&268435455)&&!(da&268435455)||xt(ae,ie)}function Ys(t,e){var r=D;D|=2;var n=Bd();(ae!==t||ie!==e)&&(tt=null,qt(t,e));do try{Lh();break}catch(a){zd(t,a)}while(1);if(Li(),D=r,qs.current=n,Z!==null)throw Error(k(261));return ae=null,ie=0,re}function Lh(){for(;Z!==null;)Wd(Z)}function $h(){for(;Z!==null&&!lf();)Wd(Z)}function Wd(t){var e=Gd(t.alternate,t,_e);t.memoizedProps=t.pendingProps,e===null?Hd(t):Z=e,qi.current=null}function Hd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ph(r,e),r!==null){r.flags&=32767,Z=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,Z=null;return}}else if(r=Th(r,e,_e),r!==null){Z=r;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);re===0&&(re=5)}function Bt(t,e,r){var n=U,a=Re.transition;try{Re.transition=null,U=1,Dh(t,e,r,n)}finally{Re.transition=a,U=n}return null}function Dh(t,e,r,n){do Ar();while(bt!==null);if(D&6)throw Error(k(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(vf(t,l),t===ae&&(Z=ae=null,ie=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,Kd(Is,function(){return Ar(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Re.transition,Re.transition=null;var i=U;U=1;var o=D;D|=4,qi.current=null,jh(t,r),Md(r,t),nh(Pl),Rs=!!Tl,Pl=Tl=null,t.current=r,Ih(r),of(),D=o,U=i,Re.transition=l}else t.current=r;if(ms&&(ms=!1,bt=t,Js=a),l=t.pendingLanes,l===0&&(Tt=null),df(r.stateNode),Ne(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Qs)throw Qs=!1,t=Ql,Ql=null,t;return Js&1&&t.tag!==0&&Ar(),l=t.pendingLanes,l&1?t===Jl?yn++:(yn=0,Jl=t):yn=0,Lt(),null}function Ar(){if(bt!==null){var t=_u(Js),e=Re.transition,r=U;try{if(Re.transition=null,U=16>t?16:t,bt===null)var n=!1;else{if(t=bt,bt=null,Js=0,D&6)throw Error(k(331));var a=D;for(D|=4,T=t.current;T!==null;){var l=T,i=l.child;if(T.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:pn(8,d,l)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var p=d.sibling,x=d.return;if(Ld(d),d===u){T=null;break}if(p!==null){p.return=x,T=p;break}T=x}}}var f=l.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}T=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,T=i;else e:for(;T!==null;){if(l=T,l.flags&2048)switch(l.tag){case 0:case 11:case 15:pn(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,T=y;break e}T=l.return}}var m=t.current;for(T=m;T!==null;){i=T;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,T=g;else e:for(i=m;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ua(9,o)}}catch(E){Q(o,o.return,E)}if(o===i){T=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,T=w;break e}T=o.return}}if(D=a,Lt(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ra,t)}catch{}n=!0}return n}finally{U=r,Re.transition=e}}return!1}function xc(t,e,r){e=$r(r,e),e=_d(t,e,1),t=Ct(t,e,1),e=he(),t!==null&&(Bn(t,1,e),Ne(t,e))}function Q(t,e,r){if(t.tag===3)xc(t,t,r);else for(;e!==null;){if(e.tag===3){xc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tt===null||!Tt.has(n))){t=$r(r,t),t=kd(e,t,1),e=Ct(e,t,1),t=he(),e!==null&&(Bn(e,1,t),Ne(e,t));break}}e=e.return}}function Mh(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=he(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(ie&r)===r&&(re===4||re===3&&(ie&130023424)===ie&&500>Y()-Ji?qt(t,0):Qi|=r),Ne(t,e)}function Vd(t,e){e===0&&(t.mode&1?(e=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):e=1);var r=he();t=ut(t,e),t!==null&&(Bn(t,e,r),Ne(t,r))}function Uh(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Vd(t,r)}function Fh(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),Vd(t,r)}var Gd;Gd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)we=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return we=!1,Ch(t,e,r);we=!!(t.flags&131072)}else we=!1,V&&e.flags&1048576&&Ju(e,zs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ks(t,e),t=e.pendingProps;var a=Ir(e,me.current);Pr(e,r),a=Wi(null,e,n,t,a,r);var l=Hi();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,be(n)?(l=!0,Us(e)):l=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Mi(e),a.updater=ca,e.stateNode=a,a._reactInternals=e,Ml(e,n,t,r),e=zl(null,e,n,!0,l,r)):(e.tag=0,V&&l&&ji(e),fe(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Bh(n),t=Fe(n,t),a){case 0:e=Fl(null,e,n,t,r);break e;case 1:e=cc(null,e,n,t,r);break e;case 11:e=ic(null,e,n,t,r);break e;case 14:e=oc(null,e,n,Fe(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fe(n,a),Fl(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fe(n,a),cc(t,e,n,a,r);case 3:e:{if(Pd(e),t===null)throw Error(k(387));n=e.pendingProps,l=e.memoizedState,a=l.element,rd(t,e),Hs(e,n,null,r);var i=e.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){a=$r(Error(k(423)),e),e=uc(t,e,n,r,a);break e}else if(n!==a){a=$r(Error(k(424)),e),e=uc(t,e,n,r,a);break e}else for(ke=St(e.stateNode.containerInfo.firstChild),Se=e,V=!0,We=null,r=ed(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Or(),n===a){e=dt(t,e,r);break e}fe(t,e,n,r)}e=e.child}return e;case 5:return nd(e),t===null&&Ll(e),n=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,Al(n,a)?i=null:l!==null&&Al(n,l)&&(e.flags|=32),Td(t,e),fe(t,e,i,r),e.child;case 6:return t===null&&Ll(e),null;case 13:return Ad(t,e,r);case 4:return Ui(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rr(e,null,n,r):fe(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fe(n,a),ic(t,e,n,a,r);case 7:return fe(t,e,e.pendingProps,r),e.child;case 8:return fe(t,e,e.pendingProps.children,r),e.child;case 12:return fe(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,l=e.memoizedProps,i=a.value,z(Bs,n._currentValue),n._currentValue=i,l!==null)if(Ge(l.value,i)){if(l.children===a.children&&!Ee.current){e=dt(t,e,r);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=it(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),$l(l.return,r,e),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===e.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(k(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),$l(i,r,e),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}fe(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Pr(e,r),a=$e(a),n=n(a),e.flags|=1,fe(t,e,n,r),e.child;case 14:return n=e.type,a=Fe(n,e.pendingProps),a=Fe(n.type,a),oc(t,e,n,a,r);case 15:return Sd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Fe(n,a),ks(t,e),e.tag=1,be(n)?(t=!0,Us(e)):t=!1,Pr(e,r),Nd(e,n,a),Ml(e,n,a,r),zl(null,e,n,!0,t,r);case 19:return jd(t,e,r);case 22:return Cd(t,e,r)}throw Error(k(156,e.tag))};function Kd(t,e){return wu(t,e)}function zh(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(t,e,r,n){return new zh(t,e,r,n)}function eo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bh(t){if(typeof t=="function")return eo(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xi)return 11;if(t===wi)return 14}return 2}function At(t,e){var r=t.alternate;return r===null?(r=Oe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ts(t,e,r,n,a,l){var i=2;if(n=t,typeof t=="function")eo(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case hr:return Qt(r.children,a,l,e);case yi:i=8,a|=8;break;case ol:return t=Oe(12,r,e,a|2),t.elementType=ol,t.lanes=l,t;case cl:return t=Oe(13,r,e,a),t.elementType=cl,t.lanes=l,t;case ul:return t=Oe(19,r,e,a),t.elementType=ul,t.lanes=l,t;case nu:return ma(r,a,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tu:i=10;break e;case ru:i=9;break e;case xi:i=11;break e;case wi:i=14;break e;case pt:i=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Oe(i,r,e,a),e.elementType=t,e.type=n,e.lanes=l,e}function Qt(t,e,r,n){return t=Oe(7,t,n,e),t.lanes=r,t}function ma(t,e,r,n){return t=Oe(22,t,n,e),t.elementType=nu,t.lanes=r,t.stateNode={isHidden:!1},t}function Ja(t,e,r){return t=Oe(6,t,null,e),t.lanes=r,t}function Ya(t,e,r){return e=Oe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wh(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function to(t,e,r,n,a,l,i,o,c){return t=new Wh(t,e,r,o,c),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Oe(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(l),t}function Hh(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function qd(t){if(!t)return It;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(be(r))return qu(t,r,e)}return e}function Qd(t,e,r,n,a,l,i,o,c){return t=to(r,n,!0,t,a,l,i,o,c),t.context=qd(null),r=t.current,n=he(),a=Pt(r),l=it(n,a),l.callback=e??null,Ct(r,l,a),t.current.lanes=a,Bn(t,a,n),Ne(t,n),t}function fa(t,e,r,n){var a=e.current,l=he(),i=Pt(a);return r=qd(r),e.context===null?e.context=r:e.pendingContext=r,e=it(l,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ct(a,e,i),t!==null&&(Ve(t,a,i,l),bs(t,a,i)),i}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ro(t,e){wc(t,e),(t=t.alternate)&&wc(t,e)}function Vh(){return null}var Jd=typeof reportError=="function"?reportError:function(t){console.error(t)};function no(t){this._internalRoot=t}ha.prototype.render=no.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));fa(t,e,null,null)};ha.prototype.unmount=no.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;er(function(){fa(null,t,null,null)}),e[ct]=null}};function ha(t){this._internalRoot=t}ha.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cu();t={blockedOn:null,target:t,priority:e};for(var r=0;r<yt.length&&e!==0&&e<yt[r].priority;r++);yt.splice(r,0,t),r===0&&Pu(t)}};function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ga(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ec(){}function Gh(t,e,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=Xs(i);l.call(u)}}var i=Qd(e,n,t,0,null,!1,!1,"",Ec);return t._reactRootContainer=i,t[ct]=i.current,An(t.nodeType===8?t.parentNode:t),er(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=Xs(c);o.call(u)}}var c=to(t,0,!1,null,null,!1,!1,"",Ec);return t._reactRootContainer=c,t[ct]=c.current,An(t.nodeType===8?t.parentNode:t),er(function(){fa(e,c,r,n)}),c}function pa(t,e,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Xs(i);o.call(c)}}fa(e,i,t,a)}else i=Gh(r,e,t,a,n);return Xs(i)}ku=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ln(e.pendingLanes);r!==0&&(Ni(e,r|1),Ne(e,Y()),!(D&6)&&(Dr=Y()+500,Lt()))}break;case 13:er(function(){var n=ut(t,1);if(n!==null){var a=he();Ve(n,t,1,a)}}),ro(t,1)}};_i=function(t){if(t.tag===13){var e=ut(t,134217728);if(e!==null){var r=he();Ve(e,t,134217728,r)}ro(t,134217728)}};Su=function(t){if(t.tag===13){var e=Pt(t),r=ut(t,e);if(r!==null){var n=he();Ve(r,t,e,n)}ro(t,e)}};Cu=function(){return U};Tu=function(t,e){var r=U;try{return U=t,e()}finally{U=r}};wl=function(t,e,r){switch(e){case"input":if(fl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=la(n);if(!a)throw Error(k(90));au(n),fl(n,a)}}}break;case"textarea":iu(t,r);break;case"select":e=r.value,e!=null&&kr(t,!!r.multiple,e,!1)}};hu=Yi;gu=er;var Kh={usingClientEntryPoint:!1,Events:[Hn,yr,la,mu,fu,Yi]},tn={findFiberByHostInstance:Vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qh={bundleType:tn.bundleType,version:tn.version,rendererPackageName:tn.rendererPackageName,rendererConfig:tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yu(t),t===null?null:t.stateNode},findFiberByHostInstance:tn.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fs.isDisabled&&fs.supportsFiber)try{ra=fs.inject(qh),Xe=fs}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kh;Te.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!so(e))throw Error(k(200));return Hh(t,e,null,r)};Te.createRoot=function(t,e){if(!so(t))throw Error(k(299));var r=!1,n="",a=Jd;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=to(t,1,!1,null,null,r,!1,n,a),t[ct]=e.current,An(t.nodeType===8?t.parentNode:t),new no(e)};Te.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=yu(e),t=t===null?null:t.stateNode,t};Te.flushSync=function(t){return er(t)};Te.hydrate=function(t,e,r){if(!ga(e))throw Error(k(200));return pa(null,t,e,!0,r)};Te.hydrateRoot=function(t,e,r){if(!so(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Jd;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=Qd(e,null,t,1,r??null,a,!1,l,i),t[ct]=e.current,An(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new ha(e)};Te.render=function(t,e,r){if(!ga(e))throw Error(k(200));return pa(null,t,e,!1,r)};Te.unmountComponentAtNode=function(t){if(!ga(t))throw Error(k(40));return t._reactRootContainer?(er(function(){pa(null,null,t,!1,function(){t._reactRootContainer=null,t[ct]=null})}),!0):!1};Te.unstable_batchedUpdates=Yi;Te.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ga(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return pa(t,e,r,!1,n)};Te.version="18.3.1-next-f1338f8080-20240426";function Yd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yd)}catch(t){console.error(t)}}Yd(),Yc.exports=Te;var Qh=Yc.exports,bc=Qh;ll.createRoot=bc.createRoot,ll.hydrateRoot=bc.hydrateRoot;const Jh="modulepreload",Yh=function(t){return"/"+t},Nc={},Gn=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(l=>{if(l=Yh(l),l in Nc)return;Nc[l]=!0;const i=l.endsWith(".css"),o=i?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const h=a[d];if(h.href===l&&(!i||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${o}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Jh,i||(u.as="script",u.crossOrigin=""),u.href=l,document.head.appendChild(u),i)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})},Xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gn(()=>Promise.resolve().then(()=>Wr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ao extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class _c extends ao{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kc extends ao{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sc extends ao{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zl||(Zl={}));var Zh=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class eg{constructor(e,{headers:r={},customFetch:n,region:a=Zl.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Xh(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Zh(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:i,signal:o}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=i):typeof i=="string"?(c["Content-Type"]="text/plain",h=i):typeof FormData<"u"&&i instanceof FormData?h=i:(c["Content-Type"]="application/json",h=JSON.stringify(i)));const p=yield this.fetch(d.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:o}).catch(N=>{throw N.name==="AbortError"?N:new _c(N)}),x=p.headers.get("x-relay-error");if(x&&x==="true")throw new kc(p);if(!p.ok)throw new Sc(p);let f=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield p.json():f==="application/octet-stream"?v=yield p.blob():f==="text/event-stream"?v=p:f==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new _c(a)}:{data:null,error:a,response:a instanceof Sc||a instanceof kc?a.context:void 0}}})}}var xe={},lo={},va={},Kn={},ya={},xa={},tg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mr=tg();const rg=Mr.fetch,Xd=Mr.fetch.bind(Mr),Zd=Mr.Headers,ng=Mr.Request,sg=Mr.Response,Wr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zd,Request:ng,Response:sg,default:Xd,fetch:rg},Symbol.toStringTag,{value:"Module"})),ag=Tm(Wr);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});let lg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};wa.default=lg;var em=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const ig=em(ag),og=em(wa);let cg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ig.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var i,o,c,u;let d=null,h=null,p=null,x=l.status,f=l.statusText;if(l.ok){if(this.method!=="HEAD"){const m=await l.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const N=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(c=l.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");N&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,x=406,f="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await l.text();try{d=JSON.parse(N),Array.isArray(d)&&l.status===404&&(h=[],d=null,x=200,f="OK")}catch{l.status===404&&N===""?(x=204,f="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,x=200,f="OK"),d&&this.shouldThrowOnError)throw new og.default(d)}return{error:d,data:h,count:p,status:x,statusText:f}});return this.shouldThrowOnError||(a=a.catch(l=>{var i,o,c;return{error:{message:`${(i=l==null?void 0:l.name)!==null&&i!==void 0?i:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(o=l==null?void 0:l.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=l==null?void 0:l.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};xa.default=cg;var ug=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const dg=ug(xa);let mg=class extends dg.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const i=l?`${l}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:i="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ya.default=mg;var fg=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});const hg=fg(ya);let gg=class extends hg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${l}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Kn.default=gg;var pg=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const rn=pg(Kn);let vg=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let l=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!l?"":(o==='"'&&(l=!l),o)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var a;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(i.length>0){const o=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new rn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new rn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new rn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};va.default=vg;var tm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});const yg=tm(va),xg=tm(Kn);let wg=class rm{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new yg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:l}={}){var i;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(o="POST",u=r);const d=new Headers(this.headers);return l&&d.set("Prefer",`count=${l}`),new xg.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};lo.default=wg;var Hr=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const nm=Hr(lo);xe.PostgrestClient=nm.default;const sm=Hr(va);xe.PostgrestQueryBuilder=sm.default;const am=Hr(Kn);xe.PostgrestFilterBuilder=am.default;const lm=Hr(ya);xe.PostgrestTransformBuilder=lm.default;const im=Hr(xa);xe.PostgrestBuilder=im.default;const om=Hr(wa);xe.PostgrestError=om.default;var Eg=xe.default={PostgrestClient:nm.default,PostgrestQueryBuilder:sm.default,PostgrestFilterBuilder:am.default,PostgrestTransformBuilder:lm.default,PostgrestBuilder:im.default,PostgrestError:om.default};const{PostgrestClient:bg,PostgrestQueryBuilder:Y0,PostgrestFilterBuilder:X0,PostgrestTransformBuilder:Z0,PostgrestBuilder:ev,PostgrestError:tv}=Eg;class Ng{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _g="2.15.5",kg=`realtime-js/${_g}`,Sg="1.0.0",ei=1e4,Cg=1e3,Tg=100;var xn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xn||(xn={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var ti;(function(t){t.websocket="websocket"})(ti||(ti={}));var Ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ht||(Ht={}));class Pg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),l=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(e.slice(i,i+a));i=i+a;const c=n.decode(e.slice(i,i+l));i=i+l;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class cm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const Cc=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((l,i)=>(l[i]=Ag(i,t,e,a),l),{})},Ag=(t,e,r,n)=>{const a=e.find(o=>o.name===t),l=a==null?void 0:a.type,i=r[t];return l&&!n.includes(l)?um(l,i):ri(i)},um=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Rg(e,r)}switch(t){case F.bool:return jg(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Ig(e);case F.json:case F.jsonb:return Og(e);case F.timestamp:return Lg(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return ri(e);default:return ri(e)}},ri=t=>t,jg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ig=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Og=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Rg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let l;const i=t.slice(1,r);try{l=JSON.parse("["+i+"]")}catch{l=i?i.split(","):[]}return l.map(o=>um(e,o))}return t},Lg=t=>typeof t=="string"?t.replace(" ","T"):t,dm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xa{constructor(e,r,n={},a=ei){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tc||(Tc={}));class wn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:l,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wn.syncState(this.state,a,l,i),this.pendingDiffs.forEach(c=>{this.state=wn.syncDiff(this.state,c,l,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:l,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wn.syncDiff(this.state,a,l,i),o())}),this.onJoin((a,l,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:i})}),this.onLeave((a,l,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const l=this.cloneDeep(e),i=this.transformState(r),o={},c={};return this.map(l,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=l[u];if(h){const p=d.map(N=>N.presence_ref),x=h.map(N=>N.presence_ref),f=d.filter(N=>x.indexOf(N.presence_ref)<0),v=h.filter(N=>p.indexOf(N.presence_ref)<0);f.length>0&&(o[u]=f),v.length>0&&(c[u]=v)}else o[u]=d}),this.syncDiff(l,{joins:o,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:l,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(l,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(x=>x.presence_ref),p=d.filter(x=>h.indexOf(x.presence_ref)<0);e[o].unshift(...p)}n(o,d,c)}),this.map(i,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,a(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Pc||(Pc={}));var En;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(En||(En={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class io{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xa(this,Be.join,this.params,this.timeout),this.rejoinTimer=new cm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new wn(this),this.broadcastEndpointURL=dm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[En.PRESENCE]&&this.bindings[En.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,h={},p={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(rt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var f;if(this.socket.setAuth(),x===void 0){e==null||e(rt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,N=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,y=[];for(let m=0;m<N;m++){const g=v[m],{filter:{event:w,schema:E,table:b,filter:_}}=g,S=x&&x[m];if(S&&S.event===w&&S.schema===E&&S.table===b&&S.filter===_)y.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rt.SUBSCRIBED);return}}).receive("error",x=>{this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ee.joined&&e===En.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var i,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&l("ok"),u.receive("ok",()=>l("ok")),u.receive("error",()=>l("error")),u.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xa(this,Be.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,l=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xa(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Tg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,l;const i=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Be;if(n&&[o,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var f,v,N;return((f=x.filter)===null||f===void 0?void 0:f.event)==="*"||((N=(v=x.filter)===null||v===void 0?void 0:v.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===i}).map(x=>x.callback(p,n)):(l=this.bindings[i])===null||l===void 0||l.filter(x=>{var f,v,N,y,m,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in x){const w=x.id,E=(f=x.filter)===null||f===void 0?void 0:f.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const w=(m=(y=x==null?void 0:x.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===i}).map(x=>{if(typeof p=="object"&&"ids"in p){const f=p.data,{schema:v,table:N,commit_timestamp:y,type:m,errors:g}=f;p=Object.assign(Object.assign({},{schema:v,table:N,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(f))}x.callback(p,n)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&io.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Cc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Cc(e.columns,e.old_record)),r}}const Za=()=>{},hs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$g=[1e3,2e3,5e3,1e4],Dg=1e4,Mg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ug{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ei,this.transport=null,this.heartbeatIntervalMs=hs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Za,this.ref=0,this.reconnectTimer=null,this.logger=Za,this.conn=null,this.sendBuffer=[],this.serializer=new Pg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...i)=>Gn(()=>Promise.resolve().then(()=>Wr),void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...i)=>l(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ti.websocket}`,this.httpEndpoint=dm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ng.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xn.connecting:return Ht.Connecting;case xn.open:return Ht.Open;case xn.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===n);if(a)return a;{const l=new io(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:n,payload:a,ref:l}=e,i=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${l})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Cg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:l,ref:i}=r,o=i?`(${i})`:"",c=l.status||"";this.log("receive",`${c} ${n} ${a} ${o}`.trim(),l),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,l,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Mg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:kg};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Be.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new cm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,l,i,o,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ei,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:hs.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Za,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>$g[h-1]||Dg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class oo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fg extends oo{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ni extends oo{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var zg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const mm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gn(()=>Promise.resolve().then(()=>Wr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Bg=()=>zg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gn(()=>Promise.resolve().then(()=>Wr),void 0)).Response:Response}),si=t=>{if(Array.isArray(t))return t.map(r=>si(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=si(n)}),e},Wg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var nr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const el=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hg=(t,e,r)=>nr(void 0,void 0,void 0,function*(){const n=yield Bg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const l=t.status||500,i=(a==null?void 0:a.statusCode)||l+"";e(new Fg(el(a),l,i))}).catch(a=>{e(new ni(el(a),a))}):e(new ni(el(t),t))}),Vg=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(Wg(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function qn(t,e,r,n,a,l){return nr(this,void 0,void 0,function*(){return new Promise((i,o)=>{t(r,Vg(e,n,a,l)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Hg(c,o,n))})})}function Zs(t,e,r,n){return nr(this,void 0,void 0,function*(){return qn(t,"GET",e,r,n)})}function Je(t,e,r,n,a){return nr(this,void 0,void 0,function*(){return qn(t,"POST",e,n,a,r)})}function ai(t,e,r,n,a){return nr(this,void 0,void 0,function*(){return qn(t,"PUT",e,n,a,r)})}function Gg(t,e,r,n){return nr(this,void 0,void 0,function*(){return qn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fm(t,e,r,n,a){return nr(this,void 0,void 0,function*(){return qn(t,"DELETE",e,n,a,r)})}var Kg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class qg{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Kg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(X(e))return{data:null,error:e};throw e}})}}var Qg=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Jg{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new qg(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Qg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(X(e))return{data:null,error:e};throw e}})}}var ve=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Yg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ac={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xg{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=mm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return ve(this,void 0,void 0,function*(){try{let l;const i=Object.assign(Object.assign({},Ac),a);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",i.cacheControl),c&&l.append("metadata",this.encodeMetadata(c)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",i.cacheControl),c&&l.append("metadata",this.encodeMetadata(c))):(l=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?ai:Je)(this.fetch,`${this.url}/object/${d}`,l,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(X(l))return{data:null,error:l};throw l}})}upload(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return ve(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),i=this._getFinalPath(l),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ac.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ai(this.fetch,o.toString(),c,{headers:d});return{data:{path:l,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(X(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const l=yield Je(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+l.url),o=i.searchParams.get("token");if(!o)throw new oo("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}update(e,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}copy(e,r,n){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return ve(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Je(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${i}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return ve(this,void 0,void 0,function*(){try{const a=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=l?`?${l}`:"",o=this._getFinalPath(e),c=()=>Zs(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new Jg(c,this.shouldThrowOnError)}info(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:si(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}exists(e){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Gg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n)&&n instanceof ni){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return ve(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}list(e,r,n){return ve(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Yg),r),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(X(a))return{data:null,error:a};throw a}})}listV2(e,r){return ve(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Zg="2.12.2",ep={"X-Client-Info":`storage-js/${Zg}`};var lr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class tp{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},ep),r),this.fetch=mm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return lr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}emptyBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}deleteBucket(e){return lr(this,void 0,void 0,function*(){try{return{data:yield fm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}}class rp extends tp{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new Xg(this.url,this.headers,e,this.fetch)}}const np="2.58.0";let cn="";typeof Deno<"u"?cn="deno":typeof document<"u"?cn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cn="react-native":cn="node";const sp={"X-Client-Info":`supabase-js-${cn}/${np}`},ap={headers:sp},lp={schema:"public"},ip={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},op={};var cp=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const up=t=>{let e;return t?e=t:typeof fetch>"u"?e=Xd:e=fetch,(...r)=>e(...r)},dp=()=>typeof Headers>"u"?Zd:Headers,mp=(t,e,r)=>{const n=up(r),a=dp();return(l,i)=>cp(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(l,Object.assign(Object.assign({},i),{headers:u}))})};var fp=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function hp(t){return t.endsWith("/")?t:t+"/"}function gp(t,e){var r,n;const{db:a,auth:l,realtime:i,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),l),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>fp(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function pp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hm="2.72.0",dr=30*1e3,li=3,tl=li*dr,vp="http://localhost:9999",yp="supabase.auth.token",xp={"X-Client-Info":`gotrue-js/${hm}`},ii="X-Supabase-Api-Version",gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ep=10*60*1e3;class co extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bp extends co{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Np(t){return A(t)&&t.name==="AuthApiError"}class pm extends co{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class $t extends co{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class gt extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _p(t){return A(t)&&t.name==="AuthSessionMissingError"}class nn extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gs extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ps extends $t{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kp(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class jc extends $t{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oi extends $t{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function rl(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Ic extends $t{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ci extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oc=` 	
\r=`.split(""),Sp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oc.length;e+=1)t[Oc[e].charCodeAt(0)]=-2;for(let e=0;e<ea.length;e+=1)t[ea[e].charCodeAt(0)]=e;return t})();function Rc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ea[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ea[n]),e.queuedBits-=6}}function vm(t,e,r){const n=Sp[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lc(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=i=>{Pp(i,n,r)};for(let i=0;i<t.length;i+=1)vm(t.charCodeAt(i),a,l);return e.join("")}function Cp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Tp(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Cp(n,e)}}function Pp(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ap(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)vm(t.charCodeAt(a),r,n);return new Uint8Array(e)}function jp(t){const e=[];return Tp(t,r=>e.push(r)),new Uint8Array(e)}function Ip(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Rc(a,r,n)),Rc(null,r,n),e.join("")}function Op(t){return Math.round(Date.now()/1e3)+t}function Rp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ae=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},ym=()=>{if(!Ae())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function Lp(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const xm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gn(()=>Promise.resolve().then(()=>Wr),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$p=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ft=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ht=async(t,e)=>{await t.removeItem(e)};class Ea{constructor(){this.promise=new Ea.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ea.promiseConstructor=Promise;function nl(t){const e=t.split(".");if(e.length!==3)throw new ci("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!wp.test(e[n]))throw new ci("JWT not in base64url format");return{header:JSON.parse(Lc(e[0])),payload:JSON.parse(Lc(e[1])),signature:Ap(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mp(t,e){return new Promise((n,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const i=await t(l);if(!e(l,null,i)){n(i);return}}catch(i){if(!e(l,i)){a(i);return}}})()})}function Up(t){return("0"+t.toString(16)).substr(-2)}function Fp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Up).join("")}async function zp(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Bp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zp(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ir(t,e,r=!1){const n=Fp();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await mr(t,`${e}-code-verifier`,a);const l=await Bp(n);return[l,n===l?"plain":"s256"]}const Wp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hp(t){const e=t.headers.get(ii);if(!e||!e.match(Wp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Vp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Gp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function or(t){if(!Kp.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $c(t){return JSON.parse(JSON.stringify(t))}var qp=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Wt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qp=[502,503,504];async function Dc(t){var e;if(!$p(t))throw new oi(Wt(t),0);if(Qp.includes(t.status))throw new oi(Wt(t),t.status);let r;try{r=await t.json()}catch(l){throw new pm(Wt(l),l)}let n;const a=Hp(t);if(a&&a.getTime()>=gm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ic(Wt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,i)=>l&&typeof i=="string",!0))throw new Ic(Wt(r),t.status,r.weak_password.reasons);throw new bp(Wt(r),t.status||500,n)}const Jp=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function O(t,e,r,n){var a;const l=Object.assign({},n==null?void 0:n.headers);l[ii]||(l[ii]=gm["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Yp(t,e,r+o,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Yp(t,e,r,n,a,l){const i=Jp(e,n,a,l);let o;try{o=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new oi(Wt(c),0)}if(o.ok||await Dc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Dc(c)}}function qe(t){var e;let r=null;t0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Op(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Mc(t){const e=qe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Xp(t){return{data:t,error:null}}function Zp(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:l}=t,i=qp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:l},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function e0(t){return t}function t0(t){return t.access_token&&t.refresh_token&&t.expires_in}const al=["global","local","others"];var r0=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class n0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=xm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=al[0]){if(al.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${al.join(", ")}`);try{return await O(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await O(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=r0(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await O(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Zp,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await O(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,l,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await O(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:e0});if(d.error)throw d.error;const h=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,x=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(f=>{const v=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(f.split(";")[1].split("=")[1]);u[`${N}Page`]=v}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){or(e);try{return await O(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){or(e);try{return await O(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){or(e);try{return await O(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){or(e.userId);try{const{data:r,error:n}=await O(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){or(e.userId),or(e.id);try{return{data:await O(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}function Uc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function s0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cr={debug:!!(globalThis&&ym()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class a0 extends wm{}async function l0(t,e,r){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new a0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Em(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function i0(t){return parseInt(t,16)}function o0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function c0(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:l=new Date,nonce:i,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=Em(t.address),f=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",N=`${f} wants you to sign in with your Ethereum account:
${x}

${v}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${l.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${N}
${y}`}s0();const u0={url:vp,storageKey:yp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fc(t,e,r){return await r()}const ur={};class Un{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Un.nextInstanceID,Un.nextInstanceID+=1,this.instanceID>0&&Ae()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},u0),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new n0({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xm(a.fetch),this.lock=a.lock||Fc,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ae()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=l0:this.lock=Fc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ym()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uc(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Uc(this.memoryStorage)),Ae()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=ur[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ur[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ur[this.storageKey]=Object.assign(Object.assign({},ur[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Lp(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ae()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),kp(l)){const c=(e=l.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new pm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const l=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:qe}),{data:i,error:o}=l;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var r,n,a;try{let l;if("email"in e){const{email:d,password:h,options:p}=e;let x=null,f=null;this.flowType==="pkce"&&([x,f]=await ir(this.storage,this.storageKey)),l=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:f},xform:qe})}else if("phone"in e){const{phone:d,password:h,options:p}=e;l=await O(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qe})}else throw new gs("You must provide either an email or phone number and a password");const{data:i,error:o}=l;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:i,options:o}=e;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mc})}else if("phone"in e){const{phone:l,password:i,options:o}=e;r=await O(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Mc})}else throw new gs("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,l,i,o,c,u,d,h,p;let x,f;if("message"in e)x=e.message,f=e.signature;else{const{chain:v,wallet:N,statement:y,options:m}=e;let g;if(Ae())if(typeof N=="object")g=N;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")g=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=N}const w=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),E=await g.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Em(E[0]);let _=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const $=await g.request({method:"eth_chainId"});_=i0($)}const S={domain:w.host,address:b,statement:y,uri:w.href,version:"1",chainId:_,nonce:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};x=c0(S),f=await g.request({method:"personal_sign",params:[o0(x),b]})}try{const{data:v,error:N}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:f},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:qe});if(N)throw N;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new nn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:N})}catch(v){if(A(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,n,a,l,i,o,c,u,d,h,p,x;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:N,wallet:y,statement:m,options:g}=e;let w;if(Ae())if(typeof y=="object")w=y;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),m?{statement:m}:null));let _;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")_=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)_=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)f=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(f),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=b}}try{const{data:N,error:y}=await O(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Ip(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:qe});if(y)throw y;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new nn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:y})}catch(N){if(A(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await Ft(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:l,error:i}=await O(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qe});if(await ht(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new nn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:i})}catch(l){if(A(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:l,nonce:i}=e,o=await O(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:l,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qe}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,l,i;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ir(this.storage,this.storageKey));const{error:h}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await O(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(l=c==null?void 0:c.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gs("You must provide either an email or phone number.")}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await O(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:qe});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(A(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let l=null,i=null;return this.flowType==="pkce"&&([l,i]=await ir(this.storage,this.storageKey)),await O(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:i}),headers:this.headers,xform:Xp})}catch(l){if(A(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gt;const{error:a}=await O(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:l}=e,{error:i}=await O(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:a,options:l}=e,{data:i,error:o}=await O(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new gs("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<tl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Ft(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=sl()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async r=>{var n,a,l;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await O(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:wt})})}catch(r){if(A(r))return _p(r)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:l}=n;if(l)throw l;if(!a.session)throw new gt;const i=a.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await ir(this.storage,this.storageKey));const{data:u,error:d}=await O(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:wt});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const r=Date.now()/1e3;let n=r,a=!0,l=null;const{payload:i}=nl(e.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};l=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;l={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:o}=r;if(o)throw o;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ae())throw new ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ps("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jc("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:l,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=e;if(!l||!o||!i||!u)throw new ps("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;c&&(p=parseInt(c));const x=p-d;x*1e3<=dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const f=p-h;d-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,p,d):d-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,p,d);const{data:v,error:N}=await this._getUser(l);if(N)throw N;const y={provider_token:n,provider_refresh_token:a,access_token:l,expires_in:h,expires_at:p,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ft(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:l}=r;if(l)return{error:l};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,e);if(o&&!(Np(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Rp(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:l},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await ir(this.storage,this.storageKey,!0));try{return await O(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(A(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async l=>{var i,o,c,u,d;const{data:h,error:p}=l;if(p)throw p;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await O(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ae()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:l,error:i}=r;if(i)throw i;return await O(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mp(async a=>(a>0&&await Dp(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await O(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qe})),(a,l)=>{const i=200*Math.pow(2,a);return l&&rl(l)&&Date.now()+i-n<dr})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ae()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ft(this.storage,this.storageKey);if(a&&this.userStorage){let i=await Ft(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await mr(this.userStorage,this.storageKey+"-user",i)),a.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:sl()}else if(a&&!a.user&&!a.user){const i=await Ft(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await ht(this.storage,this.storageKey+"-user"),await mr(this.storage,this.storageKey,a)):a.user=sl()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<tl;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${tl}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),rl(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ea;const{data:l,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!l.session)throw new gt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const o={session:l.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(l){if(this._debug(a,"error",l),A(l)){const i={session:null,error:l};return rl(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){l.push(c)}});if(await Promise.all(i),l.length>0){for(let o=0;o<l.length;o+=1)console.error(l[o]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mr(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=$c(a);await mr(this.storage,this.storageKey,l)}else{const a=$c(r);await mr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ae()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${dr}ms, refresh threshold is ${li} ticks`),a<=li&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ae()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,i]=await ir(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);a.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;return l?{data:null,error:l}:await O(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:l,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await O(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;if(l)return{data:null,error:l};const{data:i,error:o}=await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:l}=r;return l?{data:null,error:l}:await O(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),l=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=nl(a.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Ep>a)return n;const{data:l,error:i}=await O(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,n=l.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:f}=await this.getSession();if(f||!x.session)return{data:null,error:f};n=x.session.access_token}const{header:a,payload:l,signature:i,raw:{header:o,payload:c}}=nl(n);r!=null&&r.allowExpired||Vp(l.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:l,header:a,signature:i},error:null}}const d=Gp(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,jp(`${o}.${c}`)))throw new ci("Invalid JWT signature");return{data:{claims:l,header:a,signature:i},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}Un.nextInstanceID=0;const d0=Un;class m0 extends d0{constructor(e){super(e)}}var f0=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(l){return l instanceof r?l:new r(function(i){i(l)})}return new(r||(r=Promise))(function(l,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?l(d.value):a(d.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class h0{constructor(e,r,n){var a,l,i;this.supabaseUrl=e,this.supabaseKey=r;const o=pp(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:lp,realtime:op,auth:Object.assign(Object.assign({},ip),{storageKey:c}),global:ap},d=gp(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=d.global.headers)!==null&&l!==void 0?l:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=mp(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bg(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new rp(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return f0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:i,flowType:o,lock:c,debug:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m0({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:l,flowType:o,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ug(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g0=(t,e,r)=>new h0(t,e,r);function p0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v0="https://diwalreixikunjszocqe.supabase.co",y0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpd2FscmVpeGlrdW5qc3pvY3FlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1ODAzNTMsImV4cCI6MjA3NTE1NjM1M30.UxQMORCeg1bYM4uRj8Z4oK92q43Q9AU7BxM2YKwvTLk",W=g0(v0,y0),bm=C.createContext({}),Vr=()=>{const t=C.useContext(bm);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},x0=({children:t})=>{const[e,r]=C.useState(null),[n,a]=C.useState(null),[l,i]=C.useState(null),[o,c]=C.useState(!0);C.useEffect(()=>{u();const{data:{subscription:g}}=W.auth.onAuthStateChange((w,E)=>{(async()=>E!=null&&E.user?(r(E.user),await d(E.user.id)):(r(null),a(null),i(null)))()});return()=>g==null?void 0:g.unsubscribe()},[]);const u=async()=>{try{const{data:{session:g}}=await W.auth.getSession();g!=null&&g.user&&(r(g.user),await d(g.user.id))}catch(g){console.error("Error checking user:",g)}finally{c(!1)}},d=async g=>{try{const[w,E]=await Promise.all([W.from("user_profiles").select("*").eq("id",g).maybeSingle(),W.from("user_subscriptions").select("*, plan:subscription_plans(*)").eq("user_id",g).eq("status","active").maybeSingle()]);w.data&&a(w.data),E.data&&i(E.data)}catch(w){console.error("Error loading user data:",w)}},h=async(g,w,E)=>{const{data:b,error:_}=await W.auth.signUp({email:g,password:w,options:{data:{full_name:E}}});if(_)throw _;return b},p=async(g,w)=>{const{data:E,error:b}=await W.auth.signInWithPassword({email:g,password:w});if(b)throw b;return E},x=async()=>{const{error:g}=await W.auth.signOut();if(g)throw g;r(null),a(null),i(null)},f=g=>{if(!n)return!1;const w={subscriber:0,premium:1,enterprise:2,admin:3},E=w[n.role]||0,b=w[g]||0;return E>=b},m={user:e,profile:n,subscription:l,loading:o,signUp:h,signIn:p,signOut:x,hasAccess:f,isPremiumOrHigher:()=>f("premium"),isEnterpriseOrHigher:()=>f("enterprise"),isAdmin:()=>(n==null?void 0:n.role)==="admin"};return s.createElement(bm.Provider,{value:m},t)},w0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})),E0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),b0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),ta=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),Nm=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})),N0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),uo=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})),mo=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),Fn=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})),ui=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 9l2-2 4 4-2 2-4-4z"})),ba=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),_0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})),_m=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})),Ur=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l4 6-4 6M13 3l4 6-4 6"})),km=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),st=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})),k0=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})),zc=({className:t="w-5 h-5"})=>s.createElement("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),S0=({activeTab:t,setActiveTab:e,onShowAuth:r})=>{const{user:n,profile:a,signOut:l}=Vr(),[i,o]=s.useState(!1);return s.createElement(s.Fragment,null,s.createElement("button",{onClick:()=>o(!i),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg border border-gray-200"},s.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},i?s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),i&&s.createElement("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>o(!1)}),s.createElement("nav",{className:`bg-white shadow-sm border-r border-gray-200 w-64 flex flex-col fixed lg:relative h-full z-40 transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}`},s.createElement("div",{className:"p-6"},s.createElement("div",{className:"flex items-center space-x-3"},s.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center"},s.createElement(ui,{className:"text-white"})),s.createElement("div",null,s.createElement("h1",{className:"text-xl font-bold text-gray-900"},"TrueFans NEWSLETTERS™")))),s.createElement("div",{className:"flex-1 px-4 space-y-2"},[{id:"home",label:"Home",icon:w0},{id:"pricing",label:"Pricing",icon:_m},{id:"dashboard",label:"Dashboard",icon:ta,requiresAuth:!0},{id:"artist-dashboard",label:"Artist Hub",icon:ba,requiresAuth:!0,artistOnly:!0},{id:"newsletters",label:"Newsletters",icon:E0,requiresAuth:!0},{id:"automation",label:"Automation",icon:b0,requiresAuth:!0},{id:"analytics",label:"Analytics",icon:ta,requiresAuth:!0},{id:"artists",label:"Artist Intel",icon:Nm,requiresAuth:!0},{id:"discovery",label:"Discovery",icon:N0,requiresAuth:!0},{id:"admin",label:"Admin Portal",icon:_0,requiresAuth:!0}].filter(c=>c.artistOnly?(a==null?void 0:a.role)==="artist":!0).map(c=>s.createElement("button",{key:c.id,onClick:()=>e(c.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${t===c.id?"bg-orange-50 text-orange-700 border border-orange-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`},s.createElement(c.icon,null),s.createElement("span",{className:"font-medium"},c.label),c.requiresAuth&&!n&&s.createElement("span",{className:"ml-auto text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded"},"Pro"))).map((c,u)=>s.createElement("div",{key:u,onClick:()=>o(!1)},c))),s.createElement("div",{className:"p-4 border-t border-gray-200"},n?s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},s.createElement("div",{className:"text-sm font-medium text-gray-900 truncate"},(a==null?void 0:a.full_name)||n.email),s.createElement("div",{className:"text-xs text-gray-600 truncate"},n.email),a&&s.createElement("div",{className:"mt-2"},s.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-700 capitalize"},a.role))),s.createElement("button",{onClick:l,className:"w-full px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors"},"Sign Out")):s.createElement("div",{className:"space-y-2"},s.createElement("button",{onClick:()=>r("signin"),className:"w-full px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg transition-colors"},"Sign In"),s.createElement("button",{onClick:()=>r("signup"),className:"w-full px-4 py-2 text-sm font-medium text-orange-600 hover:bg-orange-50 border border-orange-300 rounded-lg transition-colors"},"Sign Up")))))},C0=({genres:t,setActiveTab:e,onShowAuth:r,onShowDemo:n})=>{const[a,l]=C.useState([]),[i,o]=C.useState(""),[c,u]=C.useState(""),d=x=>{l(f=>f.includes(x)?f.filter(v=>v!==x):[...f,x])},h=async x=>{if(x.preventDefault(),a.length===0){u("Please select at least one newsletter");return}if(!i){u("Please enter your email");return}u("Subscribing...");try{const{data:f,error:v}=await W.from("subscribers").upsert({email:i,status:"active"},{onConflict:"email"}).select().single();if(v)throw v;const{data:N}=await W.from("newsletters").select("id, slug").in("slug",a);if(N&&N.length>0){const y=N.map(g=>({subscriber_id:f.id,newsletter_id:g.id,status:"subscribed"})),{error:m}=await W.from("newsletter_subscriptions").upsert(y,{onConflict:"subscriber_id,newsletter_id"});if(m)throw m}u(`Successfully subscribed to ${a.length} newsletter${a.length>1?"s":""}!`),o(""),l([]),setTimeout(()=>u(""),3e3)}catch(f){console.error("Subscription error:",f),u("Error subscribing. Please try again."),setTimeout(()=>u(""),3e3)}},p=[{title:"Music Genres",icon:"🎵",newsletters:t.filter(x=>["pulse","storyteller","voltage","resonance","amplify","rhythm","underground","crossroads","roots","thunder","hearth","tribute"].includes(x.id))},{title:"Songwriting",icon:"✍️",newsletters:t.filter(x=>["pencraft","hitmaker","lyricist","narrative"].includes(x.id))},{title:"Music Business",icon:"💼",newsletters:t.filter(x=>["executive","revenue","connect","ledger"].includes(x.id))}];return s.createElement("div",{className:"min-h-screen"},s.createElement("header",{className:"bg-white border-b border-gray-200"},s.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between"},s.createElement("div",{className:"flex items-center space-x-2 sm:space-x-3"},s.createElement("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-orange-600 to-amber-600 rounded-lg flex items-center justify-center"},s.createElement(ui,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})),s.createElement("div",null,s.createElement("h1",{className:"text-lg sm:text-xl font-bold text-gray-900"},"TrueFans NEWSLETTERS™"))),s.createElement("div",{className:"flex items-center space-x-2 sm:space-x-4"},s.createElement("button",{onClick:()=>e("pricing"),className:"text-gray-700 hover:text-gray-900 font-medium transition-colors text-sm sm:text-base hidden sm:inline"},"Pricing"),s.createElement("button",{onClick:n,className:"text-gray-700 hover:text-gray-900 font-medium transition-colors text-sm sm:text-base hidden sm:inline"},"Demo"),s.createElement("button",{onClick:()=>r("signin"),className:"text-gray-700 hover:text-gray-900 font-medium transition-colors text-sm sm:text-base"},"Sign In"),s.createElement("button",{onClick:()=>r("signup"),className:"bg-orange-600 text-white px-3 py-2 sm:px-6 rounded-lg hover:bg-orange-700 transition-colors font-medium text-sm sm:text-base"},"Get Started")))),s.createElement("div",{className:"space-y-8 sm:space-y-12"},s.createElement("div",{className:"bg-gradient-to-br from-orange-600 via-orange-500 to-amber-600 p-6 sm:p-12 md:p-20 text-white text-center"},s.createElement("div",{className:"max-w-4xl mx-auto"},s.createElement("div",{className:"inline-flex items-center space-x-2 bg-white/20 rounded-full px-3 py-1.5 sm:px-4 sm:py-2 mb-4 sm:mb-6 text-sm sm:text-base"},s.createElement(Ur,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.createElement("span",{className:"font-semibold"},"AI-Powered Music Intelligence")),s.createElement("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4"},"The Future of Music Discovery"),s.createElement("p",{className:"text-base sm:text-lg md:text-xl text-orange-50 mb-6 sm:mb-8 max-w-2xl mx-auto px-4"},"Subscribe to the newsletters that matter to you. Get AI-curated insights on emerging artists, songwriting craft, and the business of music delivered to your inbox."),s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8"},s.createElement("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 sm:p-6"},s.createElement("div",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2"},"12"),s.createElement("div",{className:"text-orange-50 text-sm sm:text-base"},"Specialized Newsletters")),s.createElement("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 sm:p-6"},s.createElement("div",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2"},"170K+"),s.createElement("div",{className:"text-orange-50 text-sm sm:text-base"},"Total Subscribers")),s.createElement("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 sm:p-6"},s.createElement("div",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2"},"89.7%"),s.createElement("div",{className:"text-orange-50 text-sm sm:text-base"},"AI Confidence Score"))),s.createElement("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4"},s.createElement("button",{onClick:()=>{document.getElementById("subscribe-section").scrollIntoView({behavior:"smooth"})},className:"bg-white text-orange-600 px-6 py-3 sm:px-8 sm:py-4 rounded-lg hover:bg-orange-50 font-semibold text-base sm:text-lg transition-colors"},"Get Started Free"),s.createElement("button",{onClick:n,className:"bg-white/10 backdrop-blur border-2 border-white text-white px-6 py-3 sm:px-8 sm:py-4 rounded-lg hover:bg-white/20 font-semibold text-base sm:text-lg transition-colors flex items-center justify-center space-x-2"},s.createElement("span",null,"🎸"),s.createElement("span",null,"View Demo Newsletter"))))),s.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 px-4 sm:px-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-5 sm:p-6"},s.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4"},s.createElement("span",{className:"text-xl sm:text-2xl"},"🤖")),s.createElement("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2"},"AI-Powered Discovery"),s.createElement("p",{className:"text-gray-600"},"Our AI scans thousands of sources daily to discover emerging artists before they break mainstream.")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-5 sm:p-6"},s.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4"},s.createElement("span",{className:"text-xl sm:text-2xl"},"🎯")),s.createElement("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2"},"Personalized Content"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600"},"Subscribe to only the newsletters you care about. Mix genres, songwriting, and business intel.")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-5 sm:p-6"},s.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-3 sm:mb-4"},s.createElement("span",{className:"text-xl sm:text-2xl"},"📊")),s.createElement("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2"},"Industry Intelligence"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600"},"Deep insights into trends, deals, and opportunities across the entire music industry."))),s.createElement("div",{id:"subscribe-section",className:"space-y-6 sm:space-y-8 px-4 sm:px-6"},s.createElement("div",{className:"text-center"},s.createElement("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2 sm:mb-3"},"Choose Your Newsletters"),s.createElement("p",{className:"text-base sm:text-lg md:text-xl text-gray-600"},"Select the topics that matter most to you")),p.map(x=>s.createElement("div",{key:x.title,className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-4 sm:p-6 border-b border-gray-200"},s.createElement("div",{className:"flex items-center space-x-2 sm:space-x-3"},s.createElement("span",{className:"text-xl sm:text-2xl"},x.icon),s.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900"},x.title),s.createElement("span",{className:"text-sm sm:text-base text-gray-500"},"(",x.newsletters.length,")"))),s.createElement("div",{className:"p-4 sm:p-6"},s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4"},x.newsletters.map(f=>s.createElement("div",{key:f.id,onClick:()=>d(f.id),className:`relative rounded-lg p-3 sm:p-4 cursor-pointer transition-all border-2 ${a.includes(f.id)?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`},a.includes(f.id)&&s.createElement("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center"},s.createElement(st,{className:"w-4 h-4 text-white"})),s.createElement("div",{className:"flex items-center justify-between mb-2 sm:mb-3"},s.createElement("span",{className:"text-xl sm:text-2xl"},f.emoji),s.createElement("div",{className:"text-right text-xs text-gray-600"},s.createElement("div",null,f.day),s.createElement("div",null,f.time))),s.createElement("h4",{className:"font-bold text-gray-900 mb-1 text-sm sm:text-base"},f.name),s.createElement("p",{className:"text-xs text-gray-600 mb-2"},f.label),s.createElement("p",{className:"text-xs text-gray-700 line-clamp-2"},f.description),s.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},s.createElement("div",{className:"flex justify-between text-xs text-gray-600"},s.createElement("span",null,f.subscribers.toLocaleString()," subs"),s.createElement("span",null,f.engagement.toFixed(1),"% engaged")))))))))),s.createElement("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl sm:rounded-2xl p-6 sm:p-12 text-white mx-4 sm:mx-0"},s.createElement("div",{className:"max-w-2xl mx-auto text-center"},s.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 sm:mb-3"},"Ready to Get Started?"),s.createElement("p",{className:"text-sm sm:text-base text-gray-300 mb-6 sm:mb-8"},a.length>0?`You've selected ${a.length} newsletter${a.length>1?"s":""}. Enter your email to subscribe.`:"Select your newsletters above and enter your email below."),s.createElement("form",{onSubmit:h,className:"space-y-4"},s.createElement("div",{className:"flex flex-col sm:flex-row gap-3"},s.createElement("input",{type:"email",value:i,onChange:x=>o(x.target.value),placeholder:"Enter your email address",className:"flex-1 px-6 py-4 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-orange-500"}),s.createElement("button",{type:"submit",className:"bg-orange-600 text-white px-8 py-4 rounded-lg hover:bg-orange-700 font-semibold transition-colors whitespace-nowrap"},"Subscribe Now")),c&&s.createElement("div",{className:`text-sm ${c.includes("Success")?"text-green-300":"text-orange-300"}`},c)),s.createElement("p",{className:"text-gray-400 text-sm mt-6"},"Free to subscribe. Unsubscribe anytime. No spam, ever."))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 sm:p-8 text-center mx-4 sm:mx-0"},s.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3"},"Looking for Platform Access?"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6"},"Industry professionals can access our full platform with advanced analytics, automation, and admin tools."),s.createElement("button",{onClick:()=>e("dashboard"),className:"bg-gray-900 text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors"},"Go to Dashboard")),s.createElement("footer",{className:"bg-gray-900 text-white py-8 sm:py-12 mt-8 sm:mt-12"},s.createElement("div",{className:"max-w-7xl mx-auto px-6 sm:px-12"},s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8"},s.createElement("div",null,s.createElement("div",{className:"flex items-center space-x-3 mb-4"},s.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-600 to-amber-600 rounded-lg flex items-center justify-center"},s.createElement(ui,{className:"w-6 h-6 text-white"})),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold"},"TrueFans NEWSLETTERS™"),s.createElement("p",{className:"text-xs text-gray-400"},"Music Intelligence"))),s.createElement("p",{className:"text-gray-400 text-sm"},"AI-powered music discovery and industry intelligence.")),s.createElement("div",null,s.createElement("h4",{className:"font-bold mb-4"},"Product"),s.createElement("ul",{className:"space-y-2 text-sm text-gray-400"},s.createElement("li",null,s.createElement("button",{onClick:n,className:"hover:text-white transition-colors"},"Demo")),s.createElement("li",null,s.createElement("button",{onClick:()=>e("pricing"),className:"hover:text-white transition-colors"},"Pricing")),s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"Features")))),s.createElement("div",null,s.createElement("h4",{className:"font-bold mb-4"},"For Artists"),s.createElement("ul",{className:"space-y-2 text-sm text-gray-400"},s.createElement("li",null,s.createElement("button",{onClick:()=>e("pricing"),className:"hover:text-white transition-colors"},"Artist Platform")),s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"Submit Content")),s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"Revenue Share")))),s.createElement("div",null,s.createElement("h4",{className:"font-bold mb-4"},"Company"),s.createElement("ul",{className:"space-y-2 text-sm text-gray-400"},s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"About")),s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"Contact")),s.createElement("li",null,s.createElement("button",{className:"hover:text-white transition-colors"},"Privacy"))))),s.createElement("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400"},s.createElement("p",null,"© 2025 TrueFans NEWSLETTERS™. All rights reserved."))))))},T0=({onShowAuth:t})=>{const{user:e,profile:r}=Vr(),n=[{name:"Free",price:0,period:"forever",description:"Perfect for music fans who want to stay informed",features:["Subscribe to unlimited newsletters","Email delivery","Newsletter archive access","Basic profile management","Unsubscribe anytime"],cta:"Get Started",popular:!1,color:"gray",audience:"Fans"},{name:"Artist Platform",price:20,period:"month",description:"For artists who want to grow their fanbase",features:["All Free features","Submit content to newsletters","Feature in genre newsletters","Build your fanbase directly","Offer free or $10/month fan subscriptions","Keep 80% of fan subscription revenue","Direct fan communication","Artist analytics dashboard","Verified artist badge"],cta:"Start as Artist",popular:!0,color:"blue",audience:"Artists"},{name:"Premium",price:20,period:"month",description:"For industry professionals who need the edge",features:["All Free features","Full dashboard access","Advanced analytics with export","48hr early artist access","API access for integration","Custom digest scheduling","Priority support","Remove branding","Advanced filtering and search"],cta:"Upgrade to Premium",popular:!1,color:"orange",audience:"Professionals"},{name:"Enterprise",price:200,period:"month",description:"For labels and publishers who need white-label control",features:["All Premium features","White-label newsletters","Custom AI model training","Dedicated account manager","Bulk artist discovery alerts","Integration with industry tools","Advanced reporting","5 user seats included","Custom contract terms"],cta:"Contact Sales",popular:!1,color:"gray",audience:"Labels"}],a=l=>{l.name==="Free"?e||t("signup"):l.name==="Enterprise"?window.location.href="mailto:enterprise@truefans.com?subject=Enterprise Inquiry":e?alert("Payment integration coming soon! You would be upgraded to "+l.name):t("signup")};return s.createElement("div",{className:"space-y-12"},s.createElement("div",{className:"text-center"},s.createElement("h2",{className:"text-4xl font-bold text-gray-900 mb-3"},"Choose Your Plan"),s.createElement("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto"},"Start free and upgrade when you need professional tools for music discovery and intelligence")),e&&r&&s.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 max-w-4xl mx-auto"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-blue-900"},"Current Plan"),s.createElement("p",{className:"text-blue-700 capitalize"},r.role==="subscriber"?"Free":r.role)),r.role==="subscriber"&&s.createElement("button",{onClick:()=>a(n[1]),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"},"Upgrade Now"))),s.createElement("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto"},n.map(l=>s.createElement("div",{key:l.name,className:`relative bg-white rounded-2xl shadow-sm border-2 p-8 ${l.popular?l.color==="blue"?"border-blue-500":"border-orange-500":"border-gray-200"}`},l.popular&&s.createElement("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2"},s.createElement("span",{className:`${l.color==="blue"?"bg-blue-600":"bg-orange-600"} text-white px-4 py-1 rounded-full text-sm font-bold`},l.audience)),s.createElement("div",{className:"text-center mb-6"},s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},l.name),s.createElement("p",{className:"text-gray-600 text-sm mb-4"},l.description),s.createElement("div",{className:"flex items-baseline justify-center"},s.createElement("span",{className:"text-5xl font-bold text-gray-900"},"$",l.price),s.createElement("span",{className:"text-gray-600 ml-2"},"/",l.period))),s.createElement("ul",{className:"space-y-4 mb-8"},l.features.map((i,o)=>s.createElement("li",{key:o,className:"flex items-start space-x-3"},s.createElement(st,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.createElement("span",{className:"text-gray-700 text-sm"},i)))),s.createElement("button",{onClick:()=>a(l),className:`w-full py-3 px-6 rounded-lg font-semibold transition-colors ${l.popular?l.color==="blue"?"bg-blue-600 text-white hover:bg-blue-700":"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`},l.cta)))),s.createElement("div",{className:"bg-gray-50 rounded-xl p-8 max-w-4xl mx-auto"},s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center"},"Frequently Asked Questions"),s.createElement("div",{className:"space-y-4"},s.createElement("div",null,s.createElement("h4",{className:"font-semibold text-gray-900 mb-2"},"Can I change plans anytime?"),s.createElement("p",{className:"text-gray-600"},"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately.")),s.createElement("div",null,s.createElement("h4",{className:"font-semibold text-gray-900 mb-2"},"What payment methods do you accept?"),s.createElement("p",{className:"text-gray-600"},"We accept all major credit cards and can arrange invoicing for Enterprise customers.")),s.createElement("div",null,s.createElement("h4",{className:"font-semibold text-gray-900 mb-2"},"Is there a contract for Premium?"),s.createElement("p",{className:"text-gray-600"},"No, Premium is month-to-month with no long-term commitment. Cancel anytime.")),s.createElement("div",null,s.createElement("h4",{className:"font-semibold text-gray-900 mb-2"},"What if I need more than 5 seats?"),s.createElement("p",{className:"text-gray-600"},"Contact our Enterprise team for custom pricing on additional seats and features.")))))},P0=({dashboardStats:t,genres:e,setShowCreateModal:r,setShowStorytellerDemo:n})=>s.createElement("div",{className:"space-y-4 sm:space-y-6"},s.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},s.createElement("div",null,s.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},"Dashboard"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600 mt-1"},"12 specialized newsletters covering music genres, songwriting, and business")),s.createElement("button",{onClick:()=>r(!0),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base"},s.createElement(uo,null),s.createElement("span",null,"Create Newsletter"))),s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("p",{className:"text-sm font-medium text-gray-600"},"Total Subscribers"),s.createElement("p",{className:"text-3xl font-bold text-gray-900"},t.totalSubscribers.toLocaleString())),s.createElement(Nm,{className:"h-8 w-8 text-orange-600"})),s.createElement("div",{className:"mt-4 flex items-center"},s.createElement(Fn,{className:"h-4 w-4 text-green-600 mr-1"}),s.createElement("span",{className:"text-green-600 text-sm font-medium"},"+",t.weeklyGrowth.toFixed(1),"%"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("p",{className:"text-xs sm:text-sm font-medium text-gray-600"},"Newsletter Types"),s.createElement("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},e.length)),s.createElement(ba,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})),s.createElement("div",{className:"mt-3 sm:mt-4"},s.createElement("span",{className:"text-blue-600 text-xs sm:text-sm font-medium"},"Daily + Weekend"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("p",{className:"text-xs sm:text-sm font-medium text-gray-600"},"Monthly Revenue"),s.createElement("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},"$",(t.totalRevenue/1e3).toFixed(0),"K")),s.createElement(_m,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})),s.createElement("div",{className:"mt-3 sm:mt-4 flex items-center"},s.createElement(Fn,{className:"h-4 w-4 text-green-600 mr-1"}),s.createElement("span",{className:"text-green-600 text-xs sm:text-sm font-medium"},"+23.4%"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-4 sm:p-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("p",{className:"text-xs sm:text-sm font-medium text-gray-600"},"AI Confidence"),s.createElement("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},t.aiConfidence,"%")),s.createElement(ta,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-600"})),s.createElement("div",{className:"mt-3 sm:mt-4"},s.createElement("span",{className:"text-blue-600 text-xs sm:text-sm font-medium"},"High Quality")))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-4 sm:p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-lg sm:text-xl font-bold text-gray-900"},"Newsletter Network"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600 mt-1"},"Specialized music intelligence newsletters")),s.createElement("div",{className:"p-4 sm:p-6"},s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4"},e.map(a=>s.createElement("div",{key:a.id,className:"relative group"},s.createElement("div",{className:`${a.color} rounded-lg p-4 text-white cursor-pointer transition-all hover:scale-105 ${a.featured?"ring-2 ring-yellow-400":""}`},a.featured&&s.createElement("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center"},s.createElement(Ur,{className:"w-3 h-3 text-yellow-800"})),a.demoAvailable&&s.createElement("div",{className:"absolute top-2 right-2 bg-white/20 rounded-full px-2 py-1"},s.createElement("span",{className:"text-xs font-bold"},"DEMO")),s.createElement("div",{className:"flex items-center justify-between mb-3"},s.createElement("span",{className:"text-2xl"},a.emoji),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-xs opacity-75"},a.day),s.createElement("div",{className:"text-xs opacity-75"},a.time))),s.createElement("h4",{className:"font-bold text-lg mb-1"},a.name),s.createElement("p",{className:"text-xs opacity-90 mb-2"},a.label),s.createElement("p",{className:"text-xs opacity-75 mb-3 line-clamp-2"},a.description),s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"flex justify-between items-center"},s.createElement("span",{className:"text-sm"},a.subscribers.toLocaleString()),s.createElement("span",{className:"text-xs bg-white/20 px-2 py-1 rounded"},a.engagement.toFixed(1),"%")),s.createElement("div",{className:"w-full bg-white/20 rounded-full h-1"},s.createElement("div",{className:"bg-white h-1 rounded-full",style:{width:`${Math.min(a.engagement,100)}%`}})),s.createElement("div",{className:"flex justify-between text-xs"},s.createElement("span",null,"+",a.growth.toFixed(1),"%"),s.createElement("span",null,"$",(a.revenue/1e3).toFixed(0),"K"))),a.demoAvailable&&s.createElement("div",{className:"mt-3 pt-3 border-t border-white/20"},s.createElement("button",{onClick:()=>n(!0),className:"w-full bg-white/20 hover:bg-white/30 rounded px-3 py-2 text-xs font-bold flex items-center justify-center space-x-1 transition-colors"},s.createElement(mo,{className:"w-3 h-3"}),s.createElement("span",null,"Try Demo")))))))))),sr=({size:t="md",className:e=""})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return s.createElement("div",{className:`animate-spin ${r[t]} ${e}`},s.createElement("svg",{className:"w-full h-full",fill:"none",viewBox:"0 0 24 24"},s.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})))},A0=()=>{const{user:t}=Vr(),[e,r]=C.useState(null),[n,a]=C.useState([]),[l,i]=C.useState([]),[o,c]=C.useState([]),[u,d]=C.useState(!0),[h,p]=C.useState(!1),[x,f]=C.useState({title:"",content:"",content_type:"track_release",target_newsletters:[]});C.useEffect(()=>{v()},[t]);const v=async()=>{if(t)try{const[E,b,_,S]=await Promise.all([W.from("artist_profiles").select("*").eq("user_id",t.id).maybeSingle(),W.from("artist_content").select("*").order("created_at",{ascending:!1}),W.from("artist_subscribers").select("*").eq("status","active"),W.from("artist_revenue").select("*").order("created_at",{ascending:!1}).limit(10)]);E.data&&r(E.data),b.data&&a(b.data),_.data&&i(_.data),S.data&&c(S.data)}catch(E){console.error("Error loading artist data:",E)}finally{d(!1)}},N=async E=>{if(E.preventDefault(),!!e)try{const{error:b}=await W.from("artist_content").insert({artist_id:e.id,...x});if(b)throw b;p(!1),f({title:"",content:"",content_type:"track_release",target_newsletters:[]}),v()}catch(b){console.error("Error submitting content:",b),alert("Error submitting content. Please try again.")}};if(u)return s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"}));if(!e)return s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center"},s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-3"},"Create Your Artist Profile"),s.createElement("p",{className:"text-gray-600 mb-6"},"Set up your artist profile to start submitting content to newsletters."),s.createElement("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors"},"Create Profile"));const y=l.length,m=l.filter(E=>E.subscription_tier==="paid").length,g=m*10*.8,w=n.filter(E=>E.status==="pending").length;return s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Artist Dashboard"),s.createElement("p",{className:"text-gray-600 mt-1"},"Manage your content and grow your fanbase")),s.createElement("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2"},s.createElement(uo,null),s.createElement("span",null,"Submit Content"))),e&&s.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-6 text-white"},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",null,s.createElement("div",{className:"flex items-center space-x-3 mb-2"},s.createElement("h3",{className:"text-2xl font-bold"},e.artist_name),e.is_verified&&s.createElement("span",{className:"bg-white/20 px-2 py-1 rounded text-xs font-bold"},"VERIFIED")),s.createElement("p",{className:"text-blue-100"},e.genre),s.createElement("p",{className:"text-blue-200 text-sm mt-2"},e.subscription_price===0?"Free":"$10/month"," fan subscriptions")))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Fans"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},y),s.createElement("div",{className:"text-xs text-gray-500 mt-1"},m," paid")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Monthly Revenue"),s.createElement("div",{className:"text-3xl font-bold text-green-600 mt-2"},"$",g.toFixed(2)),s.createElement("div",{className:"text-xs text-gray-500 mt-1"},"80% of subscription fees")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Content Submitted"),s.createElement("div",{className:"text-3xl font-bold text-blue-600 mt-2"},n.length),s.createElement("div",{className:"text-xs text-gray-500 mt-1"},w," pending review")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Newsletter Reach"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},"12K+"),s.createElement("div",{className:"text-xs text-gray-500 mt-1"},"potential subscribers"))),h&&s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},s.createElement("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-8"},s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-6"},"Submit Content"),s.createElement("form",{onSubmit:N,className:"space-y-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Title"),s.createElement("input",{type:"text",value:x.title,onChange:E=>f({...x,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Content Type"),s.createElement("select",{value:x.content_type,onChange:E=>f({...x,content_type:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},s.createElement("option",{value:"track_release"},"Track Release"),s.createElement("option",{value:"show_announcement"},"Show Announcement"),s.createElement("option",{value:"behind_the_scenes"},"Behind the Scenes"),s.createElement("option",{value:"exclusive"},"Exclusive Content"))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Content"),s.createElement("textarea",{value:x.content,onChange:E=>f({...x,content:E.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})),s.createElement("div",{className:"flex justify-end space-x-3"},s.createElement("button",{type:"button",onClick:()=>p(!1),className:"px-6 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors"},"Cancel"),s.createElement("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Submit for Review"))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Your Content")),s.createElement("div",{className:"divide-y divide-gray-200"},n.length===0?s.createElement("div",{className:"p-12 text-center"},s.createElement("p",{className:"text-gray-600"},"No content submitted yet. Start by submitting your first piece!")):n.map(E=>s.createElement("div",{key:E.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",{className:"flex-1"},s.createElement("h4",{className:"font-bold text-gray-900"},E.title),s.createElement("p",{className:"text-sm text-gray-600 mt-1"},E.content_type.replace("_"," ")),s.createElement("p",{className:"text-xs text-gray-500 mt-2"},"Submitted ",new Date(E.created_at).toLocaleDateString())),s.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${E.status==="approved"?"bg-green-100 text-green-800":E.status==="pending"?"bg-yellow-100 text-yellow-800":E.status==="published"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`},E.status)))))))},j0=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,l]=C.useState(!0),[i,o]=C.useState("all"),[c,u]=C.useState("all");C.useEffect(()=>{d()},[]);const d=async()=>{try{const[f,v]=await Promise.all([W.from("newsletters").select("*").order("name"),W.from("newsletter_issues").select(`
            *,
            newsletter:newsletters(name, emoji, color),
            analytics:newsletter_analytics(opens, clicks, shares)
          `).order("created_at",{ascending:!1})]);f.data&&n(f.data),v.data&&e(v.data)}catch(f){console.error("Error fetching data:",f)}finally{l(!1)}},h=t.filter(f=>!(i!=="all"&&f.newsletter_id!==i||c!=="all"&&f.status!==c)),p=f=>{switch(f){case"sent":return"bg-green-100 text-green-800";case"scheduled":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=f=>{switch(f){case"sent":return"✓";case"scheduled":return"⏰";case"draft":return"📝";default:return"•"}};return a?s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"})):s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Newsletters"),s.createElement("p",{className:"text-gray-600 mt-1"},"Manage your newsletter content and performance"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Newsletter Type"),s.createElement("select",{value:i,onChange:f=>o(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"all"},"All Newsletters"),r.map(f=>s.createElement("option",{key:f.id,value:f.id},f.emoji," ",f.name)))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),s.createElement("select",{value:c,onChange:f=>u(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"all"},"All Statuses"),s.createElement("option",{value:"sent"},"Sent"),s.createElement("option",{value:"scheduled"},"Scheduled"),s.createElement("option",{value:"draft"},"Draft"))))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Issues"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},t.length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Sent"),s.createElement("div",{className:"text-3xl font-bold text-green-600 mt-2"},t.filter(f=>f.status==="sent").length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Scheduled"),s.createElement("div",{className:"text-3xl font-bold text-blue-600 mt-2"},t.filter(f=>f.status==="scheduled").length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Drafts"),s.createElement("div",{className:"text-3xl font-bold text-gray-600 mt-2"},t.filter(f=>f.status==="draft").length))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Newsletter Issues (",h.length,")")),s.createElement("div",{className:"divide-y divide-gray-200"},h.length===0?s.createElement("div",{className:"p-12 text-center"},s.createElement(ba,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"No Issues Found"),s.createElement("p",{className:"text-gray-600"},i!=="all"||c!=="all"?"Try adjusting your filters":"Start creating newsletter issues to see them here")):h.map(f=>{var v,N;return s.createElement("div",{key:f.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",{className:"flex-1"},s.createElement("div",{className:"flex items-center space-x-3 mb-2"},s.createElement("span",{className:"text-2xl"},(v=f.newsletter)==null?void 0:v.emoji),s.createElement("div",null,s.createElement("h4",{className:"text-lg font-semibold text-gray-900"},f.title),s.createElement("p",{className:"text-sm text-gray-600"},(N=f.newsletter)==null?void 0:N.name))),s.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-3"},s.createElement("div",{className:"flex items-center space-x-1"},s.createElement(k0,{className:"w-4 h-4"}),s.createElement("span",null,f.status==="sent"&&f.sent_at?`Sent ${new Date(f.sent_at).toLocaleDateString()}`:f.status==="scheduled"&&f.scheduled_for?`Scheduled for ${new Date(f.scheduled_for).toLocaleDateString()}`:`Created ${new Date(f.created_at).toLocaleDateString()}`)),f.analytics&&f.status==="sent"&&s.createElement("div",{className:"flex items-center space-x-3"},s.createElement("span",null,"👁 ",f.analytics.opens||0," opens"),s.createElement("span",null,"🖱 ",f.analytics.clicks||0," clicks"),s.createElement("span",null,"📤 ",f.analytics.shares||0," shares")),f.ai_confidence&&s.createElement("span",{className:"text-blue-600"},"AI: ",f.ai_confidence,"%"))),s.createElement("div",{className:"ml-4"},s.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${p(f.status)}`},s.createElement("span",{className:"mr-1"},x(f.status)),f.status.charAt(0).toUpperCase()+f.status.slice(1)))))}))))},I0=({children:t,requiredRole:e="premium",fallback:r})=>{const{hasAccess:n,user:a}=Vr();return a?n(e)?t:r||s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center"},s.createElement("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4"},s.createElement("span",{className:"text-3xl"},"⭐")),s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-3"},"Premium Feature"),s.createElement("p",{className:"text-gray-600 mb-6"},"This feature requires a ",e==="enterprise"?"Enterprise":"Premium"," subscription. Upgrade your plan to unlock advanced analytics, automation, and more."),s.createElement("button",{onClick:()=>window.location.hash="#pricing",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors"},"View Pricing")):r||s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center"},s.createElement("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4"},s.createElement("span",{className:"text-3xl"},"🔒")),s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-3"},"Authentication Required"),s.createElement("p",{className:"text-gray-600 mb-6"},"Please sign in to access this feature."))},O0=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,l]=C.useState(!1);C.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:u}=await W.from("newsletters").select("*").order("name");u&&e(u)}catch(u){console.error("Error fetching newsletters:",u)}finally{n(!1)}},o=async(u,d)=>{l(!0);try{await W.from("newsletters").update({is_active:!d}).eq("id",u),e(h=>h.map(p=>p.id===u?{...p,is_active:!d}:p))}catch(h){console.error("Error updating automation:",h)}finally{l(!1)}};if(r)return s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"}));const c=t.filter(u=>u.is_active).length;return s.createElement(I0,{requiredRole:"premium"},s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Automation"),s.createElement("p",{className:"text-gray-600 mt-1"},"Configure AI-powered newsletter automation"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Active Newsletters"),s.createElement("div",{className:"text-3xl font-bold text-green-600 mt-2"},c),s.createElement("div",{className:"text-sm text-gray-500 mt-1"},"of ",t.length," total")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Automation Status"),s.createElement("div",{className:"text-3xl font-bold text-blue-600 mt-2"},c>0?"Active":"Paused"),s.createElement("div",{className:"text-sm text-gray-500 mt-1"},"AI generation enabled")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Weekly Sends"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},c*1),s.createElement("div",{className:"text-sm text-gray-500 mt-1"},"estimated per week"))),s.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200"},s.createElement("div",{className:"flex items-start space-x-3"},s.createElement(Ur,{className:"w-6 h-6 text-blue-600 mt-1"}),s.createElement("div",null,s.createElement("h3",{className:"font-bold text-blue-900 mb-2"},"How Automation Works"),s.createElement("p",{className:"text-blue-800 text-sm mb-3"},"Our AI system automatically generates newsletter content based on real-time data from music platforms, social media, and industry sources. Each newsletter runs on its configured schedule."),s.createElement("ul",{className:"space-y-1 text-sm text-blue-700"},s.createElement("li",null,"• AI scans 50,000+ sources daily for trending content"),s.createElement("li",null,"• Pattern recognition identifies emerging artists and trends"),s.createElement("li",null,"• Content is auto-generated and scheduled for delivery"),s.createElement("li",null,"• Quality assurance checks ensure high confidence scores"))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Newsletter Automation"),s.createElement("p",{className:"text-gray-600 mt-1"},"Enable or disable automated content generation per newsletter")),s.createElement("div",{className:"divide-y divide-gray-200"},t.map(u=>s.createElement("div",{key:u.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("span",{className:"text-3xl"},u.emoji),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},u.name),s.createElement("p",{className:"text-sm text-gray-600"},u.label),s.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Scheduled: ",u.schedule_day,"s at ",u.schedule_time))),s.createElement("button",{onClick:()=>o(u.id,u.is_active),disabled:a,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${u.is_active?"bg-green-600":"bg-gray-300"} ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`},s.createElement("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${u.is_active?"translate-x-7":"translate-x-1"}`}))),u.is_active&&s.createElement("div",{className:"mt-4 ml-16 p-3 bg-green-50 rounded-lg border border-green-200"},s.createElement("div",{className:"flex items-center space-x-2 text-sm text-green-800"},s.createElement(st,{className:"w-4 h-4 text-green-600"}),s.createElement("span",{className:"font-medium"},"Active:"),s.createElement("span",null,"AI will generate and schedule content automatically"))))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4"},"Global Settings"),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center justify-between py-3 border-b border-gray-200"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"AI Confidence Threshold"),s.createElement("div",{className:"text-sm text-gray-600"},"Minimum confidence score to auto-publish")),s.createElement("div",{className:"text-lg font-bold text-gray-900"},"85%")),s.createElement("div",{className:"flex items-center justify-between py-3 border-b border-gray-200"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"Content Generation Window"),s.createElement("div",{className:"text-sm text-gray-600"},"Hours before scheduled send time")),s.createElement("div",{className:"text-lg font-bold text-gray-900"},"24h")),s.createElement("div",{className:"flex items-center justify-between py-3"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"Quality Review"),s.createElement("div",{className:"text-sm text-gray-600"},"Human review before sending")),s.createElement("div",{className:"text-lg font-bold text-green-600"},"Enabled"))))))},R0=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,l]=C.useState(!0),[i,o]=C.useState("all"),[c,u]=C.useState("30");C.useEffect(()=>{d()},[c]);const d=async()=>{try{const m=new Date;m.setDate(m.getDate()-parseInt(c));const[g,w]=await Promise.all([W.from("newsletters").select("*").order("name"),W.from("newsletter_issues").select(`
            id,
            title,
            newsletter_id,
            sent_at,
            newsletter:newsletters(name, emoji),
            analytics:newsletter_analytics(opens, clicks, shares, unsubscribes)
          `).eq("status","sent").gte("sent_at",m.toISOString()).order("sent_at",{ascending:!1})]);g.data&&n(g.data),w.data&&w.data.length>0?e(w.data):e(h(g.data||[]))}catch(m){console.error("Error fetching analytics:",m),e(h(r))}finally{l(!1)}},h=m=>[{title:"Vulnerable Hours: The Confessional Folk Revolution",newsletterSlug:"storyteller",daysAgo:2},{title:"Underground Heat: New Voices in Hip-Hop",newsletterSlug:"pulse",daysAgo:5},{title:"Festival Season Intelligence Report",newsletterSlug:"voltage",daysAgo:7},{title:"Pop Culture Shifts and Chart Analysis",newsletterSlug:"resonance",daysAgo:9},{title:"Garage Rock Revival Movement",newsletterSlug:"amplify",daysAgo:12}].map((w,E)=>{const b=m.find($=>$.slug===w.newsletterSlug),_=Math.floor(Math.random()*3e3)+5e3,S=new Date;return S.setDate(S.getDate()-w.daysAgo),{id:`demo-${E}`,title:w.title,newsletter_id:(b==null?void 0:b.id)||`demo-newsletter-${E}`,sent_at:S.toISOString(),newsletter:{name:(b==null?void 0:b.name)||"DEMO",emoji:(b==null?void 0:b.emoji)||"📰"},analytics:{opens:_,clicks:Math.floor(_*(.3+Math.random()*.2)),shares:Math.floor(_*(.05+Math.random()*.1)),unsubscribes:Math.floor(_*.003)}}}),p=t.filter(m=>i==="all"||m.newsletter_id===i),x=p.reduce((m,g)=>{var w;return m+(((w=g.analytics)==null?void 0:w.opens)||0)},0),f=p.reduce((m,g)=>{var w;return m+(((w=g.analytics)==null?void 0:w.clicks)||0)},0),v=p.reduce((m,g)=>{var w;return m+(((w=g.analytics)==null?void 0:w.shares)||0)},0);p.reduce((m,g)=>{var w;return m+(((w=g.analytics)==null?void 0:w.unsubscribes)||0)},0);const N=p.length>0?(x/p.length/100).toFixed(1):0,y=x>0?(f/x*100).toFixed(1):0;return a?s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"})):s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Analytics"),s.createElement("p",{className:"text-gray-600 mt-1"},"Track performance and engagement metrics"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Newsletter"),s.createElement("select",{value:i,onChange:m=>o(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"all"},"All Newsletters"),r.map(m=>s.createElement("option",{key:m.id,value:m.id},m.emoji," ",m.name)))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Time Range"),s.createElement("select",{value:c,onChange:m=>u(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"7"},"Last 7 days"),s.createElement("option",{value:"30"},"Last 30 days"),s.createElement("option",{value:"90"},"Last 90 days"),s.createElement("option",{value:"365"},"Last year"))))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Opens"),s.createElement("span",{className:"text-2xl"},"👁")),s.createElement("div",{className:"text-3xl font-bold text-gray-900"},x.toLocaleString()),s.createElement("div",{className:"text-sm text-green-600 mt-2 flex items-center"},s.createElement(Fn,{className:"w-4 h-4 mr-1"}),"Avg ",N,"% rate")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Clicks"),s.createElement("span",{className:"text-2xl"},"🖱")),s.createElement("div",{className:"text-3xl font-bold text-gray-900"},f.toLocaleString()),s.createElement("div",{className:"text-sm text-green-600 mt-2 flex items-center"},s.createElement(Fn,{className:"w-4 h-4 mr-1"}),y,"% click rate")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Shares"),s.createElement("span",{className:"text-2xl"},"📤")),s.createElement("div",{className:"text-3xl font-bold text-gray-900"},v.toLocaleString()),s.createElement("div",{className:"text-sm text-gray-600 mt-2"},x>0?(v/x*100).toFixed(1):0,"% share rate")),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Issues Sent"),s.createElement("span",{className:"text-2xl"},"📧")),s.createElement("div",{className:"text-3xl font-bold text-gray-900"},p.length),s.createElement("div",{className:"text-sm text-gray-600 mt-2"},"in last ",c," days"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Newsletter Performance"),s.createElement("p",{className:"text-gray-600 mt-1"},"Individual issue engagement metrics")),s.createElement("div",{className:"divide-y divide-gray-200"},p.length===0?s.createElement("div",{className:"p-12 text-center"},s.createElement(ta,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"No Data Available"),s.createElement("p",{className:"text-gray-600"},"No sent newsletters in the selected time range")):p.map(m=>{var b,_;const g=m.analytics||{},w=g.opens?(g.opens/1e3*100).toFixed(1):0,E=g.opens?(g.clicks/g.opens*100).toFixed(1):0;return s.createElement("div",{key:m.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",{className:"flex-1"},s.createElement("div",{className:"flex items-center space-x-3 mb-3"},s.createElement("span",{className:"text-2xl"},(b=m.newsletter)==null?void 0:b.emoji),s.createElement("div",null,s.createElement("h4",{className:"font-semibold text-gray-900"},m.title),s.createElement("p",{className:"text-sm text-gray-600"},(_=m.newsletter)==null?void 0:_.name," • Sent ",new Date(m.sent_at).toLocaleDateString()))),s.createElement("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 ml-11"},s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Opens"),s.createElement("div",{className:"text-lg font-bold text-gray-900"},g.opens||0),s.createElement("div",{className:"text-xs text-green-600"},w,"%")),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Clicks"),s.createElement("div",{className:"text-lg font-bold text-gray-900"},g.clicks||0),s.createElement("div",{className:"text-xs text-blue-600"},E,"%")),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Shares"),s.createElement("div",{className:"text-lg font-bold text-gray-900"},g.shares||0)),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Unsubscribes"),s.createElement("div",{className:"text-lg font-bold text-red-600"},g.unsubscribes||0)),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Engagement"),s.createElement("div",{className:"text-lg font-bold text-gray-900"},g.opens?(g.clicks/g.opens*100).toFixed(0):0,"%"))))))}))),i==="all"&&s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Performance by Newsletter")),s.createElement("div",{className:"p-6"},s.createElement("div",{className:"space-y-4"},r.map(m=>{const g=t.filter(b=>b.newsletter_id===m.id),w=g.reduce((b,_)=>{var S;return b+(((S=_.analytics)==null?void 0:S.opens)||0)},0),E=g.reduce((b,_)=>{var S;return b+(((S=_.analytics)==null?void 0:S.clicks)||0)},0);return s.createElement("div",{key:m.id,className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},s.createElement("div",{className:"flex items-center space-x-3"},s.createElement("span",{className:"text-2xl"},m.emoji),s.createElement("div",null,s.createElement("div",{className:"font-semibold text-gray-900"},m.name),s.createElement("div",{className:"text-sm text-gray-600"},g.length," issues sent"))),s.createElement("div",{className:"flex items-center space-x-6 text-sm"},s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-gray-600"},"Opens"),s.createElement("div",{className:"font-bold text-gray-900"},w.toLocaleString())),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-gray-600"},"Clicks"),s.createElement("div",{className:"font-bold text-gray-900"},E.toLocaleString())),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-gray-600"},"CTR"),s.createElement("div",{className:"font-bold text-green-600"},w>0?(E/w*100).toFixed(1):0,"%"))))})))))},L0=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,l]=C.useState("all"),[i,o]=C.useState("all"),[c,u]=C.useState("confidence");C.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:v}=await W.from("discovered_artists").select("*").order("ai_confidence",{ascending:!1});v&&e(v)}catch(v){console.error("Error fetching artists:",v)}finally{n(!1)}},h=[...new Set(t.map(v=>v.genre))],p=t.filter(v=>!(a!=="all"&&v.genre!==a||i!=="all"&&v.status!==i)).sort((v,N)=>{switch(c){case"confidence":return(N.ai_confidence||0)-(v.ai_confidence||0);case"growth":return(N.growth_rate||0)-(v.growth_rate||0);case"listeners":return(N.monthly_listeners||0)-(v.monthly_listeners||0);case"recent":return new Date(N.discovery_date)-new Date(v.discovery_date);default:return 0}}),x=v=>{switch(v){case"featured":return"bg-yellow-100 text-yellow-800";case"tracked":return"bg-blue-100 text-blue-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=v=>v>=90?"text-green-600":v>=80?"text-blue-600":v>=70?"text-yellow-600":"text-gray-600";return r?s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"})):s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Artist Intel"),s.createElement("p",{className:"text-gray-600 mt-1"},"AI-powered artist discovery and intelligence"))),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Total Artists"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},t.length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Featured"),s.createElement("div",{className:"text-3xl font-bold text-yellow-600 mt-2"},t.filter(v=>v.status==="featured").length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Tracked"),s.createElement("div",{className:"text-3xl font-bold text-blue-600 mt-2"},t.filter(v=>v.status==="tracked").length)),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"text-sm font-medium text-gray-600"},"Avg Confidence"),s.createElement("div",{className:"text-3xl font-bold text-gray-900 mt-2"},t.length>0?(t.reduce((v,N)=>v+(N.ai_confidence||0),0)/t.length).toFixed(1):0,"%"))),s.createElement("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl p-6 border border-orange-200"},s.createElement("div",{className:"flex items-start space-x-3"},s.createElement(Ur,{className:"w-6 h-6 text-orange-600 mt-1"}),s.createElement("div",null,s.createElement("h3",{className:"font-bold text-orange-900 mb-2"},"How Artist Intel Works"),s.createElement("p",{className:"text-orange-800 text-sm mb-4"},"Our AI system scans 50,000+ sources daily across Spotify, Apple Music, YouTube, SoundCloud, TikTok, Instagram, Twitter/X, and Reddit to discover emerging artists before they hit mainstream. Each artist receives an AI confidence score based on multiple growth signals."),s.createElement("div",{className:"bg-white rounded-lg p-4 mb-4"},s.createElement("h4",{className:"font-semibold text-orange-900 mb-2 text-sm"},"Data Sources We Monitor:"),s.createElement("div",{className:"grid grid-cols-2 gap-2 text-sm text-orange-700"},s.createElement("div",null,"• Spotify streaming growth patterns"),s.createElement("div",null,"• TikTok viral moment detection"),s.createElement("div",null,"• Apple Music playlist additions"),s.createElement("div",null,"• YouTube view velocity tracking"),s.createElement("div",null,"• Instagram engagement spikes"),s.createElement("div",null,"• Reddit community discussions"),s.createElement("div",null,"• Twitter/X mention frequency"),s.createElement("div",null,"• SoundCloud discovery trends"))),s.createElement("div",{className:"bg-white rounded-lg p-4"},s.createElement("h4",{className:"font-semibold text-orange-900 mb-2 text-sm"},"AI Confidence Score Breakdown:"),s.createElement("div",{className:"space-y-2 text-sm"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-orange-700"},"90-100%"),s.createElement("span",{className:"text-green-700 font-medium"},"High confidence - Ready to feature")),s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-orange-700"},"80-89%"),s.createElement("span",{className:"text-blue-700 font-medium"},"Strong signal - Track closely")),s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-orange-700"},"70-79%"),s.createElement("span",{className:"text-yellow-700 font-medium"},"Promising - Monitor growth")),s.createElement("div",{className:"flex items-center justify-between"},s.createElement("span",{className:"text-orange-700"},"Below 70%"),s.createElement("span",{className:"text-gray-700 font-medium"},"Early stage - Watch for signals"))))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Genre"),s.createElement("select",{value:a,onChange:v=>l(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"all"},"All Genres"),h.map(v=>s.createElement("option",{key:v,value:v},v)))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),s.createElement("select",{value:i,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"all"},"All Statuses"),s.createElement("option",{value:"featured"},"Featured"),s.createElement("option",{value:"tracked"},"Tracked"),s.createElement("option",{value:"archived"},"Archived"))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Sort By"),s.createElement("select",{value:c,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},s.createElement("option",{value:"confidence"},"AI Confidence"),s.createElement("option",{value:"growth"},"Growth Rate"),s.createElement("option",{value:"listeners"},"Monthly Listeners"),s.createElement("option",{value:"recent"},"Recently Discovered"))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Discovered Artists (",p.length,")")),s.createElement("div",{className:"divide-y divide-gray-200"},p.length===0?s.createElement("div",{className:"p-12 text-center"},s.createElement(Ur,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"No Artists Found"),s.createElement("p",{className:"text-gray-600"},a!=="all"||i!=="all"?"Try adjusting your filters":"AI is discovering new artists daily")):p.map(v=>{var N;return s.createElement("div",{key:v.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",{className:"flex-1"},s.createElement("div",{className:"flex items-start justify-between mb-3"},s.createElement("div",null,s.createElement("h4",{className:"text-lg font-bold text-gray-900"},v.name),s.createElement("div",{className:"flex items-center space-x-3 mt-1"},s.createElement("span",{className:"text-sm text-gray-600"},v.genre),v.location&&s.createElement(s.Fragment,null,s.createElement("span",{className:"text-gray-300"},"•"),s.createElement("span",{className:"text-sm text-gray-600"},"📍 ",v.location)))),s.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(v.status)}`},v.status.charAt(0).toUpperCase()+v.status.slice(1))),v.bio&&s.createElement("p",{className:"text-gray-700 mb-4"},v.bio),s.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Monthly Listeners"),s.createElement("div",{className:"text-lg font-bold text-gray-900"},((N=v.monthly_listeners)==null?void 0:N.toLocaleString())||"N/A")),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Growth Rate"),s.createElement("div",{className:"text-lg font-bold text-green-600 flex items-center"},s.createElement(Fn,{className:"w-4 h-4 mr-1"}),v.growth_rate||0,"%")),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"AI Confidence"),s.createElement("div",{className:`text-lg font-bold ${f(v.ai_confidence)}`},v.ai_confidence||0,"%")),s.createElement("div",null,s.createElement("div",{className:"text-xs text-gray-600"},"Discovered"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},new Date(v.discovery_date).toLocaleDateString()))),v.metadata&&Object.keys(v.metadata).length>0&&s.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},s.createElement("div",{className:"text-xs text-gray-600 mb-2"},"Recent Activity"),s.createElement("div",{className:"flex flex-wrap gap-2"},v.metadata.playlists&&s.createElement("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"},v.metadata.playlists," playlist adds"),v.metadata.tiktok_views&&s.createElement("span",{className:"text-xs bg-pink-100 text-pink-800 px-2 py-1 rounded"},v.metadata.tiktok_views," TikTok views"),v.metadata.shows&&s.createElement("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},v.metadata.shows," upcoming shows"))))))}))))},$0=()=>{const[t,e]=C.useState("all"),[r,n]=C.useState(""),a=[{id:1,title:"Midnight Coffee Shop",artist:"Luna Sawyer",genre:"Singer-Songwriter",plays:23847,trend:"+156%",trendColor:"text-green-600"},{id:2,title:"Neon Dreams",artist:"Crystal Synth",genre:"Electronic",plays:45632,trend:"+89%",trendColor:"text-green-600"},{id:3,title:"City Lights",artist:"Metro Marcus",genre:"Hip-Hop",plays:67234,trend:"+124%",trendColor:"text-green-600"},{id:4,title:"Summer Breeze",artist:"Indie Hearts",genre:"Indie",plays:19456,trend:"+78%",trendColor:"text-green-600"},{id:5,title:"Electric Soul",artist:"Rhythm Chase",genre:"R&B",plays:34129,trend:"+92%",trendColor:"text-green-600"}],l=[{id:1,name:"Bedroom Folk Rising",curator:"Spotify Editorial",tracks:42,followers:"12.3K",genre:"Singer-Songwriter"},{id:2,name:"Underground Heat",curator:"Apple Music",tracks:35,followers:"8.7K",genre:"Hip-Hop"},{id:3,name:"Synth Wave Future",curator:"Independent",tracks:28,followers:"15.2K",genre:"Electronic"}],i=[{tag:"#BedroomPop",posts:"2.3M",growth:"+34%"},{tag:"#IndieDiscovery",posts:"1.8M",growth:"+28%"},{tag:"#NewMusicFriday",posts:"5.6M",growth:"+19%"},{tag:"#EmergingArtist",posts:"987K",growth:"+45%"}],o=["all","Singer-Songwriter","Hip-Hop","Electronic","R&B","Indie","Pop","Rock"],c=a.filter(u=>{const d=t==="all"||u.genre===t,h=r===""||u.title.toLowerCase().includes(r.toLowerCase())||u.artist.toLowerCase().includes(r.toLowerCase());return d&&h});return s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Discovery"),s.createElement("p",{className:"text-gray-600 mt-1"},"Explore new music and trending content"))),s.createElement("div",{className:"bg-gradient-to-r from-blue-600 via-blue-500 to-blue-700 rounded-xl p-8 text-white"},s.createElement("div",{className:"flex items-start space-x-4"},s.createElement(Ur,{className:"w-8 h-8 mt-1"}),s.createElement("div",{className:"flex-1"},s.createElement("h3",{className:"text-2xl font-bold mb-2"},"How Discovery Works"),s.createElement("p",{className:"text-blue-50 mb-4"},"Our Discovery system tracks trending content across all major platforms in real-time. We analyze streaming velocity, social engagement patterns, playlist momentum, and community discussions to identify breakout moments as they happen. This surfaces content for your newsletters before it hits mainstream media."),s.createElement("div",{className:"bg-blue-800 bg-opacity-50 rounded-lg p-4 mb-4"},s.createElement("h4",{className:"font-bold mb-3"},"What We Track:"),s.createElement("div",{className:"grid md:grid-cols-3 gap-3 text-sm text-blue-50"},s.createElement("div",null,s.createElement("div",{className:"font-semibold mb-1"},"Streaming Platforms"),s.createElement("div",{className:"text-blue-200"},"• Spotify daily chart changes"),s.createElement("div",{className:"text-blue-200"},"• Apple Music feature placements"),s.createElement("div",{className:"text-blue-200"},"• YouTube view acceleration"),s.createElement("div",{className:"text-blue-200"},"• SoundCloud discovery activity")),s.createElement("div",null,s.createElement("div",{className:"font-semibold mb-1"},"Social Signals"),s.createElement("div",{className:"text-blue-200"},"• TikTok sound usage spikes"),s.createElement("div",{className:"text-blue-200"},"• Instagram Reels viral trends"),s.createElement("div",{className:"text-blue-200"},"• Twitter/X hashtag momentum"),s.createElement("div",{className:"text-blue-200"},"• Reddit community buzz")),s.createElement("div",null,s.createElement("div",{className:"font-semibold mb-1"},"Industry Activity"),s.createElement("div",{className:"text-blue-200"},"• Playlist curator additions"),s.createElement("div",{className:"text-blue-200"},"• Music blog coverage"),s.createElement("div",{className:"text-blue-200"},"• Radio station pickups"),s.createElement("div",{className:"text-blue-200"},"• Festival lineup additions")))),s.createElement("div",{className:"flex items-center space-x-6 text-sm"},s.createElement("div",null,s.createElement("div",{className:"text-2xl font-bold"},"50K+"),s.createElement("div",{className:"text-blue-100"},"Sources Monitored Daily")),s.createElement("div",null,s.createElement("div",{className:"text-2xl font-bold"},"24/7"),s.createElement("div",{className:"text-blue-100"},"Real-Time Updates")),s.createElement("div",null,s.createElement("div",{className:"text-2xl font-bold"},"89%"),s.createElement("div",{className:"text-blue-100"},"Prediction Accuracy")),s.createElement("div",null,s.createElement("div",{className:"text-2xl font-bold"},"15min"),s.createElement("div",{className:"text-blue-100"},"Update Frequency")))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Search"),s.createElement("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Search tracks or artists...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Genre"),s.createElement("select",{value:t,onChange:u=>e(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"},o.map(u=>s.createElement("option",{key:u,value:u},u==="all"?"All Genres":u)))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Trending Tracks"),s.createElement("p",{className:"text-gray-600 mt-1"},"Most rapidly growing tracks this week")),s.createElement("div",{className:"divide-y divide-gray-200"},c.map((u,d)=>s.createElement("div",{key:u.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-400 to-orange-600 rounded-lg flex items-center justify-center text-white font-bold text-lg"},d+1),s.createElement("div",{className:"flex-1"},s.createElement("h4",{className:"font-bold text-gray-900"},u.title),s.createElement("p",{className:"text-sm text-gray-600"},u.artist)),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-sm text-gray-600"},"Genre"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},u.genre)),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-sm text-gray-600"},"Monthly Plays"),s.createElement("div",{className:"text-sm font-bold text-gray-900"},u.plays.toLocaleString())),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-sm text-gray-600"},"Growth"),s.createElement("div",{className:`text-sm font-bold ${u.trendColor}`},u.trend)),s.createElement("button",{className:"p-3 bg-orange-100 hover:bg-orange-200 rounded-lg transition-colors"},s.createElement(mo,{className:"w-5 h-5 text-orange-600"}))))))),s.createElement("div",{className:"grid md:grid-cols-2 gap-6"},s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Emerging Playlists"),s.createElement("p",{className:"text-gray-600 mt-1"},"Curated playlists gaining momentum")),s.createElement("div",{className:"divide-y divide-gray-200"},l.map(u=>s.createElement("div",{key:u.id,className:"p-6 hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"flex items-start space-x-3"},s.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center"},s.createElement(ba,{className:"w-6 h-6 text-white"})),s.createElement("div",{className:"flex-1"},s.createElement("h4",{className:"font-bold text-gray-900"},u.name),s.createElement("p",{className:"text-sm text-gray-600 mb-2"},u.curator),s.createElement("div",{className:"flex items-center space-x-4 text-sm"},s.createElement("span",{className:"text-gray-600"},u.tracks," tracks"),s.createElement("span",{className:"text-gray-300"},"•"),s.createElement("span",{className:"text-gray-600"},u.followers," followers"),s.createElement("span",{className:"text-gray-300"},"•"),s.createElement("span",{className:"text-blue-600"},u.genre)))))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"p-6 border-b border-gray-200"},s.createElement("h3",{className:"text-xl font-bold text-gray-900"},"Trending Hashtags"),s.createElement("p",{className:"text-gray-600 mt-1"},"Popular tags across social platforms")),s.createElement("div",{className:"p-6 space-y-4"},i.map((u,d)=>s.createElement("div",{key:d,className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},s.createElement("div",null,s.createElement("div",{className:"font-bold text-gray-900 text-lg"},u.tag),s.createElement("div",{className:"text-sm text-gray-600"},u.posts," posts")),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-green-600 font-bold"},u.growth),s.createElement("div",{className:"text-xs text-gray-600"},"growth"))))))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},s.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-4"},"Platform Insights"),s.createElement("div",{className:"grid md:grid-cols-3 gap-6"},s.createElement("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200"},s.createElement("div",{className:"flex items-center space-x-3 mb-3"},s.createElement("span",{className:"text-2xl"},"🎵"),s.createElement("div",{className:"font-bold text-green-900"},"Spotify")),s.createElement("p",{className:"text-sm text-green-800"},'"Bedroom Folk" playlists seeing 78% increase in saves. Singer-songwriter genre showing strong momentum.')),s.createElement("div",{className:"p-4 bg-pink-50 rounded-lg border border-pink-200"},s.createElement("div",{className:"flex items-center space-x-3 mb-3"},s.createElement("span",{className:"text-2xl"},"📱"),s.createElement("div",{className:"font-bold text-pink-900"},"TikTok")),s.createElement("p",{className:"text-sm text-pink-800"},"Acoustic covers and raw vocal performances trending. #BedroomPop hashtag up 34% this week.")),s.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},s.createElement("div",{className:"flex items-center space-x-3 mb-3"},s.createElement("span",{className:"text-2xl"},"📻"),s.createElement("div",{className:"font-bold text-blue-900"},"Apple Music")),s.createElement("p",{className:"text-sm text-blue-800"},'Editorial playlists adding more independent artists. "New Artist Spotlight" features up 42%.')))))},D0=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,l]=C.useState([]),[i,o]=C.useState(!0),[c,u]=C.useState("overview");C.useEffect(()=>{d()},[]);const d=async()=>{try{const[f,v,N]=await Promise.all([W.from("newsletters").select("*"),W.from("subscribers").select("*"),W.from("newsletter_issues").select("*")]);f.data&&e(f.data),v.data&&n(v.data),N.data&&l(N.data)}catch(f){console.error("Error fetching data:",f)}finally{o(!1)}};if(i)return s.createElement("div",{className:"flex items-center justify-center h-64"},s.createElement(sr,{size:"lg"}));const h=r.filter(f=>f.status==="active").length,p=a.length,x=a.filter(f=>f.status==="sent").length;return s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h2",{className:"text-3xl font-bold text-gray-900"},"Admin Portal"),s.createElement("p",{className:"text-gray-600 mt-1"},"Platform administration and settings"))),s.createElement("div",{className:"bg-white rounded-xl shadow-sm border"},s.createElement("div",{className:"flex border-b border-gray-200"},s.createElement("button",{onClick:()=>u("overview"),className:`px-6 py-4 font-medium transition-colors ${c==="overview"?"text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-900"}`},"Overview"),s.createElement("button",{onClick:()=>u("newsletters"),className:`px-6 py-4 font-medium transition-colors ${c==="newsletters"?"text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-900"}`},"Newsletters"),s.createElement("button",{onClick:()=>u("subscribers"),className:`px-6 py-4 font-medium transition-colors ${c==="subscribers"?"text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-900"}`},"Subscribers"),s.createElement("button",{onClick:()=>u("connections"),className:`px-6 py-4 font-medium transition-colors ${c==="connections"?"text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-900"}`},"API Connections"),s.createElement("button",{onClick:()=>u("settings"),className:`px-6 py-4 font-medium transition-colors ${c==="settings"?"text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-900"}`},"Settings")),s.createElement("div",{className:"p-6"},c==="overview"&&s.createElement("div",{className:"space-y-6"},s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"},s.createElement("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg"},s.createElement("div",{className:"text-sm font-medium text-blue-800"},"Total Newsletters"),s.createElement("div",{className:"text-3xl font-bold text-blue-900 mt-2"},t.length),s.createElement("div",{className:"text-sm text-blue-700 mt-1"},t.filter(f=>f.is_active).length," active")),s.createElement("div",{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-lg"},s.createElement("div",{className:"text-sm font-medium text-green-800"},"Total Subscribers"),s.createElement("div",{className:"text-3xl font-bold text-green-900 mt-2"},r.length),s.createElement("div",{className:"text-sm text-green-700 mt-1"},h," active")),s.createElement("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg"},s.createElement("div",{className:"text-sm font-medium text-orange-800"},"Total Issues"),s.createElement("div",{className:"text-3xl font-bold text-orange-900 mt-2"},p),s.createElement("div",{className:"text-sm text-orange-700 mt-1"},x," sent")),s.createElement("div",{className:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg"},s.createElement("div",{className:"text-sm font-medium text-gray-800"},"System Status"),s.createElement("div",{className:"text-3xl font-bold text-green-600 mt-2"},"✓"),s.createElement("div",{className:"text-sm text-gray-700 mt-1"},"All systems operational"))),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4"},"Recent Activity"),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},s.createElement("span",{className:"text-green-600"},"✓"),s.createElement("span",{className:"text-sm text-gray-700"},"Database migration completed successfully"),s.createElement("span",{className:"text-xs text-gray-500 ml-auto"},"Just now")),s.createElement("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},s.createElement("span",{className:"text-blue-600"},"📧"),s.createElement("span",{className:"text-sm text-gray-700"},t.length," newsletters configured"),s.createElement("span",{className:"text-xs text-gray-500 ml-auto"},"Today")),s.createElement("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},s.createElement("span",{className:"text-orange-600"},"⚙️"),s.createElement("span",{className:"text-sm text-gray-700"},"System ready for operation"),s.createElement("span",{className:"text-xs text-gray-500 ml-auto"},"Today")))),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4"},"Quick Actions"),s.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},s.createElement("button",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"text-2xl mb-2"},"📝"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},"Create Issue")),s.createElement("button",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"text-2xl mb-2"},"👥"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},"Manage Users")),s.createElement("button",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"text-2xl mb-2"},"📊"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},"View Reports")),s.createElement("button",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},s.createElement("div",{className:"text-2xl mb-2"},"⚙️"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},"Settings"))))),c==="newsletters"&&s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Newsletter Management"),s.createElement("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700"},"Add Newsletter")),s.createElement("div",{className:"space-y-3"},t.map(f=>s.createElement("div",{key:f.id,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("span",{className:"text-2xl"},f.emoji),s.createElement("div",null,s.createElement("div",{className:"font-bold text-gray-900"},f.name),s.createElement("div",{className:"text-sm text-gray-600"},f.label))),s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-sm text-gray-600"},"Schedule"),s.createElement("div",{className:"text-sm font-medium text-gray-900"},f.schedule_day," ",f.schedule_time)),s.createElement("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},f.is_active?"Active":"Inactive")))))),c==="subscribers"&&s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"text-lg font-bold text-gray-900"},"Subscriber Management"),s.createElement("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700"},"Export List")),s.createElement("div",{className:"grid grid-cols-3 gap-4 mb-6"},s.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},s.createElement("div",{className:"text-sm text-gray-600"},"Total"),s.createElement("div",{className:"text-2xl font-bold text-gray-900"},r.length)),s.createElement("div",{className:"p-4 bg-green-50 rounded-lg"},s.createElement("div",{className:"text-sm text-green-800"},"Active"),s.createElement("div",{className:"text-2xl font-bold text-green-900"},h)),s.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},s.createElement("div",{className:"text-sm text-gray-600"},"Unsubscribed"),s.createElement("div",{className:"text-2xl font-bold text-gray-900"},r.filter(f=>f.status==="unsubscribed").length))),r.length===0?s.createElement("div",{className:"text-center py-12"},s.createElement("p",{className:"text-gray-600"},"No subscribers yet")):s.createElement("div",{className:"border border-gray-200 rounded-lg overflow-hidden"},s.createElement("table",{className:"w-full"},s.createElement("thead",{className:"bg-gray-50"},s.createElement("tr",null,s.createElement("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-900"},"Email"),s.createElement("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-900"},"Status"),s.createElement("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-900"},"Joined"))),s.createElement("tbody",{className:"divide-y divide-gray-200"},r.slice(0,10).map(f=>s.createElement("tr",{key:f.id,className:"hover:bg-gray-50"},s.createElement("td",{className:"px-4 py-3 text-sm text-gray-900"},f.email),s.createElement("td",{className:"px-4 py-3"},s.createElement("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},f.status)),s.createElement("td",{className:"px-4 py-3 text-sm text-gray-600"},new Date(f.created_at).toLocaleDateString()))))))),c==="connections"&&s.createElement("div",{className:"space-y-6"},s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Data Source Connections"),s.createElement("p",{className:"text-gray-600 mb-6"},"Connect your music platform APIs to enable automated content generation for newsletters. These credentials are encrypted and stored securely."),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-green-400 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🎵")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Spotify for Developers"),s.createElement("p",{className:"text-sm text-gray-600"},"Artist data, streaming stats, playlist info"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Client ID"),s.createElement("input",{type:"text",placeholder:"Enter Spotify Client ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Client Secret"),s.createElement("input",{type:"password",placeholder:"Enter Spotify Client Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://developer.spotify.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:text-green-700"},"Get API credentials →"),s.createElement("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm font-medium"},"Connect Spotify")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-red-400 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🍎")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Apple Music API"),s.createElement("p",{className:"text-sm text-gray-600"},"Streaming data, charts, artist information"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Developer Token"),s.createElement("input",{type:"password",placeholder:"Enter Apple Music Developer Token",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://developer.apple.com/music/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-red-600 hover:text-red-700"},"Get API credentials →"),s.createElement("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-medium"},"Connect Apple Music")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-red-600 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"📺")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"YouTube Data API"),s.createElement("p",{className:"text-sm text-gray-600"},"Video views, engagement, trending music"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter YouTube API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-red-600 hover:text-red-700"},"Get API credentials →"),s.createElement("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-medium"},"Connect YouTube")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-orange-500 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"☁️")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"SoundCloud API"),s.createElement("p",{className:"text-sm text-gray-600"},"Emerging artists, underground trends"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Client ID"),s.createElement("input",{type:"text",placeholder:"Enter SoundCloud Client ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://developers.soundcloud.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-orange-600 hover:text-orange-700"},"Get API credentials →"),s.createElement("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 text-sm font-medium"},"Connect SoundCloud")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-blue-500 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🎸")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Bandcamp"),s.createElement("p",{className:"text-sm text-gray-600"},"Independent releases, fan support data"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter Bandcamp API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("span",{className:"text-sm text-gray-500"},"Contact Bandcamp for API access"),s.createElement("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium"},"Connect Bandcamp")))))),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"AI & Content Generation"),s.createElement("p",{className:"text-gray-600 mb-6"},"Connect AI services to power content generation, trend analysis, and intelligent writing for your newsletters."),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-purple-400 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🤖")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Anthropic Claude"),s.createElement("p",{className:"text-sm text-gray-600"},"Content writing, trend analysis, editorial intelligence"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter Anthropic API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})),s.createElement("div",{className:"bg-purple-50 rounded p-3"},s.createElement("p",{className:"text-xs text-purple-800"},s.createElement("strong",null,"Powers:")," Newsletter writing, artist bio generation, trend summaries, content personalization")),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-purple-600 hover:text-purple-700"},"Get API credentials →"),s.createElement("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 text-sm font-medium"},"Connect Claude")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-teal-400 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"✨")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"OpenAI GPT"),s.createElement("p",{className:"text-sm text-gray-600"},"Content generation, summaries, creative writing"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter OpenAI API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})),s.createElement("div",{className:"bg-teal-50 rounded p-3"},s.createElement("p",{className:"text-xs text-teal-800"},s.createElement("strong",null,"Powers:")," Alternative content generation, creative headlines, image generation with DALL-E")),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://platform.openai.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-teal-600 hover:text-teal-700"},"Get API credentials →"),s.createElement("button",{className:"bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 text-sm font-medium"},"Connect OpenAI")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-indigo-400 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🔍")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Perplexity AI"),s.createElement("p",{className:"text-sm text-gray-600"},"Real-time research, fact-checking, current events"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter Perplexity API Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),s.createElement("div",{className:"bg-indigo-50 rounded p-3"},s.createElement("p",{className:"text-xs text-indigo-800"},s.createElement("strong",null,"Powers:")," Current music news research, artist background checks, industry trend verification")),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://www.perplexity.ai/settings/api",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-700"},"Get API credentials →"),s.createElement("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 text-sm font-medium"},"Connect Perplexity")))))),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"News & Social Intelligence"),s.createElement("p",{className:"text-gray-600 mb-6"},"Monitor music news, social media trends, and industry updates to keep your newsletters current."),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-gray-600 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"📰")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"NewsAPI"),s.createElement("p",{className:"text-sm text-gray-600"},"Music industry news, artist features, festival announcements"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"API Key"),s.createElement("input",{type:"password",placeholder:"Enter NewsAPI Key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://newsapi.org/register",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-700"},"Get API credentials →"),s.createElement("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 text-sm font-medium"},"Connect NewsAPI")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-black transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-gray-900 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl text-white"},"𝕏")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"X (Twitter) API"),s.createElement("p",{className:"text-sm text-gray-600"},"Trending topics, artist mentions, viral moments"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Bearer Token"),s.createElement("input",{type:"password",placeholder:"Enter X API Bearer Token",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://developer.twitter.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-600 hover:text-gray-700"},"Get API credentials →"),s.createElement("button",{className:"bg-gray-900 text-white px-4 py-2 rounded-lg hover:bg-gray-800 text-sm font-medium"},"Connect X")))),s.createElement("div",{className:"border-2 border-gray-200 rounded-lg p-6 hover:border-orange-600 transition-colors"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-4"},s.createElement("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-2xl"},"🤖")),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-gray-900"},"Reddit API"),s.createElement("p",{className:"text-sm text-gray-600"},"Community discussions, genre subreddits, fan feedback"))),s.createElement("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full font-medium"},"Not Connected")),s.createElement("div",{className:"space-y-3"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Client ID"),s.createElement("input",{type:"text",placeholder:"Enter Reddit Client ID",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Client Secret"),s.createElement("input",{type:"password",placeholder:"Enter Reddit Client Secret",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})),s.createElement("div",{className:"flex items-center justify-between pt-2"},s.createElement("a",{href:"https://www.reddit.com/prefs/apps",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-orange-600 hover:text-orange-700"},"Get API credentials →"),s.createElement("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 text-sm font-medium"},"Connect Reddit")))))),s.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6"},s.createElement("h4",{className:"font-bold text-blue-900 mb-2"},"🔒 Security & Privacy"),s.createElement("ul",{className:"space-y-2 text-sm text-blue-800"},s.createElement("li",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-blue-600 mt-0.5"},"•"),s.createElement("span",null,"All API credentials are encrypted at rest using AES-256")),s.createElement("li",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-blue-600 mt-0.5"},"•"),s.createElement("span",null,"Credentials are never logged or exposed in error messages")),s.createElement("li",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-blue-600 mt-0.5"},"•"),s.createElement("span",null,"API requests are rate-limited to comply with platform guidelines")),s.createElement("li",{className:"flex items-start space-x-2"},s.createElement("span",{className:"text-blue-600 mt-0.5"},"•"),s.createElement("span",null,"You can revoke access at any time from this panel"))))),c==="settings"&&s.createElement("div",{className:"space-y-6"},s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4"},"Platform Settings"),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"Email Notifications"),s.createElement("div",{className:"text-sm text-gray-600"},"Send admin notifications via email")),s.createElement("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center px-1"},s.createElement("div",{className:"w-4 h-4 bg-white rounded-full ml-auto"}))),s.createElement("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"AI Auto-Generation"),s.createElement("div",{className:"text-sm text-gray-600"},"Enable automatic content generation")),s.createElement("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center px-1"},s.createElement("div",{className:"w-4 h-4 bg-white rounded-full ml-auto"}))),s.createElement("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"Quality Review"),s.createElement("div",{className:"text-sm text-gray-600"},"Require manual review before sending")),s.createElement("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center px-1"},s.createElement("div",{className:"w-4 h-4 bg-white rounded-full ml-auto"}))),s.createElement("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},s.createElement("div",null,s.createElement("div",{className:"font-medium text-gray-900"},"Analytics Tracking"),s.createElement("div",{className:"text-sm text-gray-600"},"Track opens, clicks, and engagement")),s.createElement("div",{className:"w-12 h-6 bg-green-600 rounded-full flex items-center px-1"},s.createElement("div",{className:"w-4 h-4 bg-white rounded-full ml-auto"}))))),s.createElement("div",null,s.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4"},"Database"),s.createElement("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg"},s.createElement("div",{className:"flex items-center space-x-2 text-green-800"},s.createElement(st,{className:"w-5 h-5"}),s.createElement("span",{className:"font-medium"},"Connected to Supabase")),s.createElement("p",{className:"text-sm text-green-700 mt-2"},"All tables created and configured. System is ready for operation.")))))))},M={title:"Vulnerable Hours: The Confessional Folk Revolution",subtitle:"When Midnight Coffee Shops Become Concert Halls",date:"2025-07-30",issue:"#347",aiConfidence:94,featuredArtist:{name:"Luna Sawyer",location:"Portland, OR",age:26,bio:"Former indie rock guitarist turned introspective storyteller, Luna Sawyer creates haunting melodies that speak to the isolated generation.",keyTrack:"Midnight Coffee Shop",spotifyMonthlyListeners:23847,streamingGrowth:156,recentActivity:[`Featured on Spotify's "Bedroom Folk" playlist (+12K listeners)`,"Viral TikTok acoustic performance (2.3M views)","NPR Music discovery mention","Three sold-out Portland coffee shop shows"]},trendAnalysis:{title:"The Rise of Confessional Folk",summary:"Our AI has identified a 340% increase in confessional folk streams over the past 90 days, driven by Gen-Z listeners seeking authentic emotional connection.",keyInsights:[{metric:"Playlist Growth",value:"+127%",detail:"Bedroom Folk playlists grew from 2.4M to 5.5M followers"},{metric:"Peak Listening Hours",value:"11PM - 2AM",detail:"Late-night listening sessions indicate personal connection"},{metric:"Average Age",value:"23 years",detail:"Younger demographic than traditional folk listeners"}],soundCharacteristics:["Intimate vocal delivery with minimal production","Personal diary-like lyrics about mental health","Acoustic guitar with subtle electronic elements","Lo-fi recording aesthetic"]},industryIntel:{title:"Label Movements",items:[{type:"Acquisition",company:"Secretly Group",detail:"Signed three confessional folk artists in August alone",implication:"Major labels are noticing the trend"},{type:"Platform",company:"Spotify",detail:'New "Vulnerable Hours" playlist launched last week',implication:"DSPs are creating dedicated discovery spaces"},{type:"Touring",company:"House of Blues",detail:"Adding more intimate seated shows to venues",implication:"Traditional venues adapting to the intimate sound"}]},radarDiscoveries:[{name:"River Collins",location:"Nashville, TN",track:"Therapy Sessions EP",description:"Millennial burnout through delicate fingerpicking and brutally honest lyrics.",prediction:"85K monthly listeners by September",confidence:88,spotifyLink:"spotify:artist:example1",whyItMatters:"First artist to explicitly address therapy culture in folk music"},{name:"Maya Stern",location:"Brooklyn, NY",track:"Corporate Anxiety",description:"Former Wall Street analyst turned confessional songwriter.",prediction:"Record label interest within 45 days",confidence:92,spotifyLink:"spotify:artist:example2",whyItMatters:"Authentic career-change narrative resonates with unhappy professionals"},{name:"Kai Rivers",location:"Austin, TX",track:"Sunday Scaries",description:"Weekly releases documenting real-time emotional states",prediction:"60K listeners + TikTok viral moment",confidence:85,spotifyLink:"spotify:artist:example3",whyItMatters:"Innovative release strategy creating parasocial connection"}],playlistOpportunities:{title:"Submission Opportunities",playlists:[{name:"Bedroom Folk",followers:"5.5M",curator:"Spotify Editorial",acceptingSubmissions:!0,fitScore:95,tips:"Focus on intimate production and personal storytelling"},{name:"Coffeehouse Acoustic",followers:"2.1M",curator:"Starbucks x Spotify",acceptingSubmissions:!0,fitScore:88,tips:"Must be radio-friendly and uplifting despite intimate sound"},{name:"Feels",followers:"8.3M",curator:"Spotify Editorial",acceptingSubmissions:!1,fitScore:92,tips:"Build relationships with associate curators on social media"}]},upcomingEvents:{title:"Industry Calendar",events:[{name:"Folk Alliance International",date:"February 14-18, 2026",location:"Kansas City, MO",relevance:"Showcases and label meetings for emerging folk artists",earlyBird:"Ends October 1st"},{name:"SXSW Acoustic Showcases",date:"March 10-19, 2026",location:"Austin, TX",relevance:"Growing intimate venue lineup for confessional artists",applications:"Open until November 15th"}]},resourcesForArtists:{title:"Tools & Resources",items:[{category:"Distribution",resource:"DistroKid + TuneCore",why:"Fast upload times crucial for weekly release strategies"},{category:"Recording",resource:"Zoom H4n Pro",why:"Field recorder used by 60% of successful lo-fi folk artists"},{category:"Community",resource:"r/IndieFolk + Discord servers",why:"Active communities sharing playlists and collaboration opportunities"},{category:"Marketing",resource:"Later + Canva",why:"Schedule authentic social content without overwhelming yourself"}]},metrics:{estimatedReach:12300,aiProcessingTime:"6.7 seconds",confidenceScore:94,sourcesAnalyzed:50847}},M0=({showStorytellerDemo:t,setShowStorytellerDemo:e})=>{const[r,n]=C.useState("landing"),[a,l]=C.useState(!1),[i,o]=C.useState(""),[c,u]=C.useState(0),[d,h]=C.useState(null),p=[{id:1,title:"🎵 Data Harvesting",description:"Scanning 50,000+ Singer-Songwriter tracks across platforms...",duration:1500},{id:2,title:"🤖 AI Pattern Recognition",description:"Processing indie folk trends and emotional patterns...",duration:2e3},{id:3,title:"✍️ Content Generation",description:"Generating authentic storytelling content...",duration:1800},{id:4,title:"🔍 Quality Assurance",description:"Cross-referencing with industry databases...",duration:1200},{id:5,title:"✅ Editorial Review",description:"Final review complete! Newsletter ready.",duration:1e3}],x=C.useCallback(async()=>{l(!0),n("generating"),u(0);for(let f=0;f<p.length;f++){const v=p[f];o(v.description),u((f+1)/p.length*100),await new Promise(N=>setTimeout(N,v.duration))}l(!1),n("newsletter")},[p]);return t?s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},s.createElement("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},s.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},s.createElement("div",{className:"flex items-center space-x-3"},s.createElement("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center"},s.createElement("span",{className:"text-white text-lg"},"🎸")),s.createElement("div",null,s.createElement("h2",{className:"text-xl font-bold text-gray-900"},"STORYTELLER Demo"),s.createElement("p",{className:"text-sm text-gray-600"},"Singer-Songwriter Intelligence"))),s.createElement("button",{onClick:()=>{e(!1),n("landing"),l(!1),h(null)},className:"text-gray-400 hover:text-gray-600"},s.createElement(km,{className:"w-6 h-6"}))),s.createElement("div",{className:"p-6"},r==="landing"&&s.createElement("div",{className:"text-center space-y-6"},s.createElement("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto"},s.createElement("span",{className:"text-4xl"},"🎸")),s.createElement("div",null,s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},"Experience STORYTELLER"),s.createElement("p",{className:"text-gray-600 max-w-2xl mx-auto"},"Watch our AI discover emerging singer-songwriters, analyze confessional folk trends, and generate authentic music intelligence in real-time.")),s.createElement("div",{className:"max-w-2xl mx-auto"},s.createElement("h4",{className:"font-bold text-gray-900 mb-3"},"Choose Demo Version:"),s.createElement("div",{className:"grid md:grid-cols-2 gap-4"},s.createElement("button",{onClick:()=>h("generic"),className:`border-2 rounded-lg p-4 text-left transition-all ${d==="generic"?"border-green-600 bg-green-50":"border-gray-300 hover:border-green-400"}`},s.createElement("div",{className:"text-2xl mb-2"},"📰"),s.createElement("h5",{className:"font-bold text-gray-900 mb-1"},"Standard Newsletter"),s.createElement("p",{className:"text-sm text-gray-600"},"AI-curated music discoveries and trends")),s.createElement("button",{onClick:()=>h("artist"),className:`border-2 rounded-lg p-4 text-left transition-all ${d==="artist"?"border-green-600 bg-green-50":"border-gray-300 hover:border-green-400"}`},s.createElement("div",{className:"text-2xl mb-2"},"🎤"),s.createElement("h5",{className:"font-bold text-gray-900 mb-1"},"Artist-Featured Version"),s.createElement("p",{className:"text-sm text-gray-600"},"With your exclusive content integrated")))),s.createElement("div",{className:"bg-green-50 rounded-lg p-6 max-w-2xl mx-auto"},s.createElement("h4",{className:"font-bold text-green-900 mb-3"},"What You'll See:"),s.createElement("ul",{className:"text-left space-y-2 text-green-800"},s.createElement("li",{className:"flex items-center space-x-2"},s.createElement(st,{className:"w-4 h-4 text-green-600"}),s.createElement("span",null,"AI-powered artist discovery process")),s.createElement("li",{className:"flex items-center space-x-2"},s.createElement(st,{className:"w-4 h-4 text-green-600"}),s.createElement("span",null,"Real-time trend analysis")),s.createElement("li",{className:"flex items-center space-x-2"},s.createElement(st,{className:"w-4 h-4 text-green-600"}),s.createElement("span",null,"Complete newsletter generation")),s.createElement("li",{className:"flex items-center space-x-2"},s.createElement(st,{className:"w-4 h-4 text-green-600"}),s.createElement("span",null,"Industry intelligence insights")))),s.createElement("button",{onClick:x,disabled:!d,className:"bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center space-x-2 mx-auto text-lg font-semibold transition-all"},s.createElement(mo,null),s.createElement("span",null,d?"Start Demo":"Select Demo Version"))),r==="generating"&&s.createElement("div",{className:"text-center space-y-6"},s.createElement("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto"},s.createElement(sr,{size:"lg",className:"text-green-600"})),s.createElement("div",null,s.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-2"},"Generating Newsletter"),s.createElement("p",{className:"text-gray-600"},i)),s.createElement("div",{className:"max-w-md mx-auto"},s.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},s.createElement("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${c}%`}})),s.createElement("p",{className:"text-sm text-gray-500 mt-2"},Math.round(c),"% Complete")),s.createElement("div",{className:"bg-gray-50 rounded-lg p-4 max-w-2xl mx-auto"},s.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm"},p.map((f,v)=>s.createElement("div",{key:f.id,className:`flex items-center space-x-2 ${v<c/20?"text-green-600":"text-gray-400"}`},v<c/20?s.createElement(st,{className:"w-4 h-4"}):s.createElement("div",{className:"w-4 h-4 border-2 border-current rounded-full"}),s.createElement("span",null,f.title)))))),r==="newsletter"&&s.createElement("div",{className:"space-y-6"},d==="artist"&&s.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4"},s.createElement("div",{className:"flex items-start space-x-3"},s.createElement("span",{className:"text-2xl"},"🎤"),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-blue-900 mb-1"},"Artist-Featured Newsletter"),s.createElement("p",{className:"text-sm text-blue-800"},"This version includes your exclusive content integrated into the newsletter, giving you direct exposure to engaged music fans.")))),s.createElement("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg p-6"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("div",{className:"flex items-center space-x-3"},s.createElement("span",{className:"text-2xl"},"🎸"),s.createElement("div",null,s.createElement("h3",{className:"text-xl font-bold"},"STORYTELLER"),s.createElement("p",{className:"text-green-100"},"Issue ",M.issue," • ",M.date))),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-sm text-green-100"},"AI Confidence"),s.createElement("div",{className:"text-2xl font-bold"},M.aiConfidence,"%"))),s.createElement("h1",{className:"text-3xl font-bold mb-2"},M.title),s.createElement("p",{className:"text-xl text-green-100"},M.subtitle)),d==="artist"&&s.createElement("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-lg p-6"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("h4",{className:"text-lg font-bold text-blue-900"},"🎤 Your Featured Content"),s.createElement("span",{className:"text-xs bg-blue-200 text-blue-900 px-3 py-1 rounded-full font-semibold"},"ARTIST SPOTLIGHT")),s.createElement("div",{className:"bg-white rounded-lg p-4 mb-4"},s.createElement("h5",{className:"text-xl font-bold text-gray-900 mb-2"},"Luna Waves"),s.createElement("p",{className:"text-gray-600 mb-3"},"Portland, OR • Indie Folk Artist"),s.createElement("p",{className:"text-gray-700 mb-4"},`Hey everyone! I'm Luna Waves, and I'm so excited to share my new single "Midnight Rivers" with the STORYTELLER community. This track is about finding peace in life's quiet moments.`),s.createElement("div",{className:"bg-gray-50 rounded p-3 mb-3"},s.createElement("div",{className:"flex items-center space-x-3 mb-2"},s.createElement("span",{className:"text-2xl"},"🎵"),s.createElement("div",null,s.createElement("div",{className:"font-semibold text-gray-900"},"Midnight Rivers"),s.createElement("div",{className:"text-sm text-gray-600"},"New Single • Released this week"))),s.createElement("p",{className:"text-sm text-gray-700"},'"This song came to me during a late-night drive through the Columbia River Gorge. I wanted to capture that feeling of solitude mixed with connection to nature."')),s.createElement("div",{className:"flex space-x-3"},s.createElement("span",{className:"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full"},"Listen on Spotify"),s.createElement("span",{className:"text-sm bg-gray-100 text-gray-800 px-3 py-1 rounded-full"},"Tour Dates"))),s.createElement("p",{className:"text-xs text-blue-800 italic"},"💡 As an Artist tier member, your content reaches ",M.metrics.estimatedReach.toLocaleString()," engaged subscribers")),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"🎯 Featured Discovery"),s.createElement("div",{className:"grid md:grid-cols-2 gap-6"},s.createElement("div",null,s.createElement("h5",{className:"text-xl font-bold text-gray-900"},M.featuredArtist.name),s.createElement("p",{className:"text-gray-600 mb-2"},M.featuredArtist.location," • Age ",M.featuredArtist.age),s.createElement("p",{className:"text-gray-700 mb-4"},M.featuredArtist.bio),s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"flex justify-between"},s.createElement("span",{className:"text-sm text-gray-600"},"Key Track:"),s.createElement("span",{className:"text-sm font-medium"},'"',M.featuredArtist.keyTrack,'"')),s.createElement("div",{className:"flex justify-between"},s.createElement("span",{className:"text-sm text-gray-600"},"Monthly Listeners:"),s.createElement("span",{className:"text-sm font-medium"},M.featuredArtist.spotifyMonthlyListeners.toLocaleString())),s.createElement("div",{className:"flex justify-between"},s.createElement("span",{className:"text-sm text-gray-600"},"Growth:"),s.createElement("span",{className:"text-sm font-medium text-green-600"},"+",M.featuredArtist.streamingGrowth,"%")))),s.createElement("div",null,s.createElement("h6",{className:"font-semibold text-gray-900 mb-3"},"Recent Activity"),s.createElement("ul",{className:"space-y-2"},M.featuredArtist.recentActivity.map((f,v)=>s.createElement("li",{key:v,className:"text-sm text-gray-700 flex items-start space-x-2"},s.createElement("span",{className:"text-green-600 mt-1"},"•"),s.createElement("span",null,f))))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"📈 ",M.trendAnalysis.title),s.createElement("p",{className:"text-gray-700 mb-4"},M.trendAnalysis.summary),s.createElement("div",{className:"grid md:grid-cols-3 gap-4 mb-6"},M.trendAnalysis.keyInsights.map((f,v)=>s.createElement("div",{key:v,className:"bg-green-50 rounded-lg p-4"},s.createElement("div",{className:"text-sm text-green-800 font-medium"},f.metric),s.createElement("div",{className:"text-2xl font-bold text-green-900 mt-1"},f.value),s.createElement("div",{className:"text-xs text-green-700 mt-1"},f.detail)))),s.createElement("div",null,s.createElement("h6",{className:"font-semibold text-gray-900 mb-2"},"Sound Characteristics"),s.createElement("div",{className:"grid md:grid-cols-2 gap-2"},M.trendAnalysis.soundCharacteristics.map((f,v)=>s.createElement("div",{key:v,className:"flex items-start space-x-2 text-sm text-gray-700"},s.createElement("span",{className:"text-green-600 mt-0.5"},"•"),s.createElement("span",null,f)))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"📡 On Our Radar"),s.createElement("div",{className:"space-y-4"},M.radarDiscoveries.map((f,v)=>s.createElement("div",{key:v,className:"border-l-4 border-green-500 pl-4"},s.createElement("div",{className:"flex justify-between items-start mb-2"},s.createElement("div",null,s.createElement("h6",{className:"font-semibold text-gray-900"},f.name),s.createElement("p",{className:"text-sm text-gray-600"},f.location,' • "',f.track,'"')),s.createElement("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded"},f.confidence,"% confidence")),s.createElement("p",{className:"text-sm text-gray-700 mb-2"},f.description),s.createElement("p",{className:"text-sm font-medium text-green-700 mb-1"},"Prediction: ",f.prediction),s.createElement("p",{className:"text-xs text-gray-600 italic"},"Why it matters: ",f.whyItMatters))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"💼 ",M.industryIntel.title),s.createElement("div",{className:"space-y-4"},M.industryIntel.items.map((f,v)=>s.createElement("div",{key:v,className:"bg-gray-50 rounded-lg p-4"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded font-medium"},f.type),s.createElement("span",{className:"font-semibold text-gray-900"},f.company)),s.createElement("p",{className:"text-sm text-gray-700 mb-2"},f.detail),s.createElement("p",{className:"text-sm text-green-700 font-medium"},"→ ",f.implication))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"🎧 ",M.playlistOpportunities.title),s.createElement("div",{className:"space-y-3"},M.playlistOpportunities.playlists.map((f,v)=>s.createElement("div",{key:v,className:"border border-gray-200 rounded-lg p-4"},s.createElement("div",{className:"flex justify-between items-start mb-2"},s.createElement("div",null,s.createElement("h6",{className:"font-semibold text-gray-900"},f.name),s.createElement("p",{className:"text-sm text-gray-600"},f.curator," • ",f.followers," followers")),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"text-xs text-gray-600"},"Fit Score"),s.createElement("div",{className:"text-lg font-bold text-green-600"},f.fitScore,"%"))),s.createElement("div",{className:"flex items-center space-x-2 mb-2"},s.createElement("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${f.acceptingSubmissions?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},f.acceptingSubmissions?"Accepting Submissions":"Not Accepting")),s.createElement("p",{className:"text-sm text-gray-700"},"💡 ",f.tips))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"🛠️ ",M.resourcesForArtists.title),s.createElement("div",{className:"grid md:grid-cols-2 gap-3"},M.resourcesForArtists.items.map((f,v)=>s.createElement("div",{key:v,className:"bg-gray-50 rounded-lg p-3"},s.createElement("div",{className:"text-xs text-gray-600 uppercase font-medium mb-1"},f.category),s.createElement("div",{className:"font-semibold text-gray-900 mb-1"},f.resource),s.createElement("p",{className:"text-xs text-gray-700"},f.why))))),s.createElement("div",{className:"bg-white border rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"📅 ",M.upcomingEvents.title),s.createElement("div",{className:"space-y-3"},M.upcomingEvents.events.map((f,v)=>s.createElement("div",{key:v,className:"border-l-4 border-orange-500 pl-4 py-2"},s.createElement("h6",{className:"font-semibold text-gray-900"},f.name),s.createElement("p",{className:"text-sm text-gray-600"},f.date," • ",f.location),s.createElement("p",{className:"text-sm text-gray-700 mt-1"},f.relevance),f.applications&&s.createElement("p",{className:"text-sm text-orange-700 font-medium mt-1"},"Applications: ",f.applications),f.earlyBird&&s.createElement("p",{className:"text-sm text-orange-700 font-medium mt-1"},"Early Bird: ",f.earlyBird))))),s.createElement("div",{className:"bg-gray-50 rounded-lg p-6"},s.createElement("h4",{className:"text-lg font-bold text-gray-900 mb-4"},"📊 Generation Metrics"),s.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-2xl font-bold text-gray-900"},M.metrics.estimatedReach.toLocaleString()),s.createElement("div",{className:"text-sm text-gray-600"},"Estimated Reach")),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-2xl font-bold text-gray-900"},M.metrics.aiProcessingTime),s.createElement("div",{className:"text-sm text-gray-600"},"Processing Time")),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-2xl font-bold text-gray-900"},M.metrics.confidenceScore,"%"),s.createElement("div",{className:"text-sm text-gray-600"},"Confidence Score")),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"text-2xl font-bold text-gray-900"},M.metrics.sourcesAnalyzed.toLocaleString()),s.createElement("div",{className:"text-sm text-gray-600"},"Sources Analyzed")))),s.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center"},s.createElement("h4",{className:"text-lg font-bold text-green-900 mb-2"},"🎉 Demo Complete!"),s.createElement("p",{className:"text-green-800 mb-4"},d==="artist"?"This newsletter shows how your exclusive content is integrated alongside AI-curated discoveries, giving you direct access to engaged fans.":"This newsletter was generated in real-time using our AI-powered music intelligence platform."),s.createElement("button",{onClick:()=>{e(!1),n("landing"),h(null)},className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"},"Close Demo")))))):null},U0=({showCreateModal:t,setShowCreateModal:e,genres:r})=>{const[n,a]=C.useState(""),[l,i]=C.useState(""),[o,c]=C.useState(!1),[u,d]=C.useState("");if(!t)return null;const h=async()=>{if(n){c(!0),d("");try{await new Promise(p=>setTimeout(p,2e3)),e(!1),a(""),i("")}catch{d("Failed to generate newsletter. Please try again.")}finally{c(!1)}}};return s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},s.createElement("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},s.createElement("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200"},s.createElement("h2",{className:"text-lg sm:text-xl font-bold text-gray-900"},"Create New Newsletter"),s.createElement("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600"},s.createElement(km,{className:"w-6 h-6"}))),s.createElement("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6"},s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2 sm:mb-3"},"Select Genre"),s.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3"},r.map(p=>s.createElement("button",{key:p.id,onClick:()=>a(p.id),className:`${p.color} text-white p-3 sm:p-4 rounded-lg text-left transition-all ${n===p.id?"ring-2 ring-orange-400":"hover:scale-105"}`},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("span",{className:"text-lg"},p.emoji),s.createElement("span",{className:"text-xs bg-white/20 px-2 py-1 rounded"},p.day)),s.createElement("h4",{className:"font-bold"},p.name),s.createElement("p",{className:"text-xs opacity-90"},p.label))))),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Custom Title (Optional)"),s.createElement("input",{type:"text",value:l,onChange:p=>i(p.target.value),placeholder:"Leave blank for AI-generated title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})),s.createElement("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4"},s.createElement("h4",{className:"font-semibold text-orange-900 mb-2"},"AI Generation Process"),s.createElement("ul",{className:"text-sm text-orange-800 space-y-1"},s.createElement("li",null,"• Scan latest music releases and trends"),s.createElement("li",null,"• Analyze streaming data and social signals"),s.createElement("li",null,"• Generate personalized content for your audience"),s.createElement("li",null,"• Quality check and editorial review"))),u&&s.createElement("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"},u),s.createElement("div",{className:"flex space-x-3"},s.createElement("button",{onClick:()=>e(!1),disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Cancel"),s.createElement("button",{onClick:h,disabled:!n||o,className:"flex-1 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2"},o?s.createElement(s.Fragment,null,s.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.createElement("span",null,"Generating...")):s.createElement(s.Fragment,null,s.createElement(uo,null),s.createElement("span",null,"Generate Newsletter")))))))},F0=t=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Please enter a valid email address":"Email is required",z0=t=>t?t.length<8?"Password must be at least 8 characters":/[A-Z]/.test(t)?/[a-z]/.test(t)?/[0-9]/.test(t)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required",B0=(t,e="This field")=>!t||typeof t=="string"&&t.trim()===""?`${e} is required`:null,W0=({isOpen:t,onClose:e,defaultMode:r="signin"})=>{const[n,a]=C.useState(r),[l,i]=C.useState(""),[o,c]=C.useState(""),[u,d]=C.useState(""),[h,p]=C.useState({}),[x,f]=C.useState(!1),[v,N]=C.useState(!1),{signIn:y,signUp:m}=Vr();if(!t)return null;const g=()=>{const E={};if(n==="signup"){const S=B0(u,"Full name");S&&(E.fullName=S)}const b=F0(l);b&&(E.email=b);const _=z0(o);return _&&(E.password=_),p(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),p({}),!!g()){f(!0);try{n==="signin"?(await y(l,o),e()):(await m(l,o,u),N(!0))}catch(b){p({submit:b.message||"An error occurred"})}finally{f(!1)}}};return v&&n==="signup"?s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},s.createElement("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 relative"},s.createElement("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600"},s.createElement(zc,{className:"w-6 h-6"})),s.createElement("div",{className:"text-center"},s.createElement("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},s.createElement("span",{className:"text-3xl"},"✓")),s.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Check Your Email"),s.createElement("p",{className:"text-gray-600 mb-6"},"We've sent you a confirmation link to ",s.createElement("strong",null,l),". Please check your inbox and click the link to activate your account."),s.createElement("button",{onClick:e,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors"},"Got It")))):s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},s.createElement("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 sm:p-8 relative max-h-[90vh] overflow-y-auto"},s.createElement("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600"},s.createElement(zc,{className:"w-6 h-6"})),s.createElement("div",{className:"mb-4 sm:mb-6"},s.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2"},n==="signin"?"Welcome Back":"Create Account"),s.createElement("p",{className:"text-sm sm:text-base text-gray-600"},n==="signin"?"Sign in to access your dashboard":"Sign up to get started with TrueFans NEWSLETTERS™")),s.createElement("form",{onSubmit:w,className:"space-y-3 sm:space-y-4"},n==="signup"&&s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Full Name"),s.createElement("input",{type:"text",value:u,onChange:E=>d(E.target.value),className:`w-full px-3 py-2 sm:px-4 sm:py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm sm:text-base ${h.fullName?"border-red-500":"border-gray-300"}`}),h.fullName&&s.createElement("p",{className:"text-red-600 text-sm mt-1"},h.fullName)),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Email Address"),s.createElement("input",{type:"email",value:l,onChange:E=>i(E.target.value),className:`w-full px-3 py-2 sm:px-4 sm:py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm sm:text-base ${h.email?"border-red-500":"border-gray-300"}`}),h.email&&s.createElement("p",{className:"text-red-600 text-sm mt-1"},h.email)),s.createElement("div",null,s.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Password"),s.createElement("input",{type:"password",value:o,onChange:E=>c(E.target.value),className:`w-full px-3 py-2 sm:px-4 sm:py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm sm:text-base ${h.password?"border-red-500":"border-gray-300"}`}),h.password&&s.createElement("p",{className:"text-red-600 text-sm mt-1"},h.password),n==="signup"&&!h.password&&s.createElement("p",{className:"text-gray-600 text-xs mt-1"},"Must be at least 8 characters with uppercase, lowercase, and number")),h.submit&&s.createElement("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"},h.submit),s.createElement("button",{type:"submit",disabled:x,className:"w-full bg-orange-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg hover:bg-orange-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"},x?"Please wait...":n==="signin"?"Sign In":"Sign Up")),s.createElement("div",{className:"mt-6 text-center"},s.createElement("button",{onClick:()=>{a(n==="signin"?"signup":"signin"),setError("")},className:"text-orange-600 hover:text-orange-700 text-sm font-medium"},n==="signin"?"Don't have an account? Sign up":"Already have an account? Sign in"))))};class et extends s.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?s.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},s.createElement("div",{className:"max-w-md w-full bg-white rounded-xl shadow-sm border p-8 text-center"},s.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},s.createElement("span",{className:"text-3xl"},"⚠️")),s.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Something went wrong"),s.createElement("p",{className:"text-gray-600 mb-6"},"We encountered an unexpected error. Please refresh the page to try again."),s.createElement("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors"},"Refresh Page"))):this.props.children}}const H0=()=>C.useMemo(()=>[{id:"pulse",name:"PULSE",label:"Hip-Hop/Rap",day:"Monday",time:"6 AM",color:"bg-red-600",subscribers:15420,engagement:42.3,growth:18.7,revenue:28450,emoji:"🎤",description:"Underground hip-hop trends, emerging rappers, and street culture intelligence",demoAvailable:!1},{id:"storyteller",name:"STORYTELLER",label:"Singer-Songwriter",day:"Tuesday",time:"6 PM",color:"bg-green-600",subscribers:12300,engagement:51.2,growth:15.8,revenue:24600,emoji:"🎸",description:"Intimate singer-songwriter discoveries, confessional folk movement, and authentic storytelling",demoAvailable:!0,featured:!0},{id:"voltage",name:"VOLTAGE",label:"Electronic/EDM",day:"Tuesday",time:"6 AM",color:"bg-blue-600",subscribers:18750,engagement:45.1,growth:24.6,revenue:35800,emoji:"⚡",description:"Electronic music evolution, festival intelligence, and producer spotlights",demoAvailable:!1},{id:"resonance",name:"RESONANCE",label:"Pop/Mainstream",day:"Thursday",time:"6 AM",color:"bg-pink-600",subscribers:28900,engagement:35.8,growth:8.9,revenue:42500,emoji:"✨",description:"Pop culture analysis, mainstream trends, and commercial music intelligence",demoAvailable:!1},{id:"amplify",name:"AMPLIFY",label:"Rock/Alternative",day:"Wednesday",time:"6 PM",color:"bg-slate-700",subscribers:14250,engagement:38.9,growth:12.3,revenue:26800,emoji:"🎸",description:"Rock revival movements, garage bands, and alternative scene intelligence",demoAvailable:!1},{id:"rhythm",name:"RHYTHM",label:"R&B/Soul",day:"Friday",time:"6 AM",color:"bg-amber-700",subscribers:11650,engagement:44.7,growth:16.2,revenue:23400,emoji:"🎵",description:"Modern R&B evolution, soul revivals, and smooth vocal trends",demoAvailable:!1},{id:"underground",name:"UNDERGROUND",label:"Indie/Experimental",day:"Saturday",time:"10 AM",color:"bg-teal-600",subscribers:9820,engagement:56.3,growth:21.5,revenue:19600,emoji:"🌙",description:"Experimental sounds, bedroom producers, and avant-garde movements",demoAvailable:!1},{id:"crossroads",name:"CROSSROADS",label:"Country",day:"Sunday",time:"8 AM",color:"bg-yellow-700",subscribers:13450,engagement:40.1,growth:14.8,revenue:25200,emoji:"🤠",description:"Modern country trends, Nashville intelligence, and traditional country roots",demoAvailable:!1},{id:"roots",name:"ROOTS",label:"Americana",day:"Sunday",time:"2 PM",color:"bg-orange-800",subscribers:9850,engagement:48.2,growth:16.5,revenue:19700,emoji:"🎻",description:"Americana roots, folk traditions, bluegrass revival, and authentic storytelling",demoAvailable:!1},{id:"thunder",name:"THUNDER",label:"Metal",day:"Friday",time:"8 PM",color:"bg-zinc-900",subscribers:16320,engagement:52.8,growth:19.4,revenue:31200,emoji:"🤘",description:"Heavy metal evolution, underground scenes, thrash to doom, and extreme music intelligence",demoAvailable:!1},{id:"hearth",name:"HEARTH",label:"Folk",day:"Thursday",time:"7 PM",color:"bg-lime-700",subscribers:8640,engagement:61.5,growth:17.2,revenue:17800,emoji:"🪕",description:"Traditional folk music, acoustic storytelling, world folk traditions, and organic sounds",demoAvailable:!1},{id:"tribute",name:"TRIBUTE",label:"Cover/Tribute",day:"Saturday",time:"4 PM",color:"bg-rose-700",subscribers:11450,engagement:46.3,growth:13.7,revenue:22900,emoji:"🎭",description:"Cover artists, tribute bands, reimagined classics, and the art of musical interpretation",demoAvailable:!1},{id:"pencraft",name:"PENCRAFT",label:"Songwriting Craft",day:"Wednesday",time:"6 AM",color:"bg-emerald-700",subscribers:8940,engagement:62.4,growth:19.3,revenue:21500,emoji:"✍️",description:"Songwriting techniques, lyrical analysis, and creative process deep-dives",demoAvailable:!1},{id:"hitmaker",name:"HITMAKER",label:"Commercial Songwriting",day:"Friday",time:"6 PM",color:"bg-orange-600",subscribers:10250,engagement:48.6,growth:17.9,revenue:24800,emoji:"🎯",description:"Hit songwriting formulas, sync licensing opportunities, and commercial trends",demoAvailable:!1},{id:"lyricist",name:"LYRICIST",label:"Lyric Writing",day:"Tuesday",time:"9 AM",color:"bg-purple-700",subscribers:7820,engagement:55.3,growth:20.1,revenue:18400,emoji:"📝",description:"Lyrical techniques, metaphor mastery, wordplay, and poetic songwriting",demoAvailable:!1},{id:"narrative",name:"NARRATIVE",label:"Storytelling",day:"Saturday",time:"9 AM",color:"bg-indigo-700",subscribers:8450,engagement:60.7,growth:18.9,revenue:20100,emoji:"📖",description:"Song storytelling techniques, narrative structures, and character development in music",demoAvailable:!1},{id:"executive",name:"EXECUTIVE",label:"Music Business Strategy",day:"Thursday",time:"6 PM",color:"bg-gray-800",subscribers:12890,engagement:53.2,growth:22.1,revenue:38900,emoji:"💼",description:"Industry deals, label insights, investment trends, and executive intelligence",demoAvailable:!1},{id:"revenue",name:"REVENUE",label:"Artist Business",day:"Monday",time:"6 PM",color:"bg-green-800",subscribers:11340,engagement:59.8,growth:25.4,revenue:34200,emoji:"💰",description:"Monetization strategies, streaming economics, touring business, and artist income",demoAvailable:!1},{id:"connect",name:"CONNECT",label:"Engagement",day:"Wednesday",time:"3 PM",color:"bg-cyan-700",subscribers:10580,engagement:57.4,growth:23.2,revenue:26300,emoji:"🤝",description:"Fan engagement strategies, social media growth, community building, and audience connection",demoAvailable:!1},{id:"ledger",name:"LEDGER",label:"Finances",day:"Friday",time:"9 AM",color:"bg-emerald-800",subscribers:9240,engagement:64.1,growth:21.8,revenue:29800,emoji:"📊",description:"Music industry finances, royalty accounting, tax strategies, and financial planning for artists",demoAvailable:!1}],[]),V0=()=>{const[t,e]=C.useState("home"),[r,n]=C.useState([]),[a,l]=C.useState(!1),[i,o]=C.useState(!1),[c,u]=C.useState(!1),[d,h]=C.useState("signin"),{user:p,loading:x,isPremiumOrHigher:f}=Vr(),v=H0(),N=(E="signin")=>{h(E),u(!0)},y=["dashboard","newsletters","automation","analytics","artists","discovery","admin"],m=E=>{if(y.includes(E)&&!p){N("signin");return}e(E)},g=C.useMemo(()=>({totalSubscribers:v.reduce((E,b)=>E+b.subscribers,0),weeklyGrowth:v.reduce((E,b)=>E+b.growth,0)/v.length,avgEngagement:v.reduce((E,b)=>E+b.engagement,0)/v.length,totalRevenue:v.reduce((E,b)=>E+b.revenue,0),aiConfidence:89.7}),[v]);C.useEffect(()=>{n([{id:1,genre:"storyteller",title:"Vulnerable Hours: The Confessional Folk Revolution",date:"2025-07-30",status:"published",engagement:{opens:6274,clicks:2847,shares:456},featuredArtist:"Luna Sawyer",aiConfidence:94,isDemoContent:!0},{id:2,genre:"voltage",title:"Underground Beats Rising to the Surface",date:"2025-07-29",status:"scheduled",engagement:{opens:0,clicks:0,shares:0},featuredArtist:"Crystal Synth",aiConfidence:87}])},[]);const w=()=>{if(x)return s.createElement("div",{className:"flex items-center justify-center h-screen"},s.createElement("div",{className:"text-center"},s.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),s.createElement("p",{className:"text-gray-600"},"Loading...")));switch(t){case"home":return s.createElement(C0,{genres:v,setActiveTab:m,onShowAuth:N,onShowDemo:()=>o(!0)});case"pricing":return s.createElement(T0,{onShowAuth:N});case"dashboard":return s.createElement(et,null,s.createElement(P0,{dashboardStats:g,genres:v,setShowCreateModal:l,setShowStorytellerDemo:o}));case"artist-dashboard":return s.createElement(et,null,s.createElement(A0,null));case"newsletters":return s.createElement(et,null,s.createElement(j0,null));case"automation":return s.createElement(et,null,s.createElement(O0,null));case"analytics":return s.createElement(et,null,s.createElement(R0,null));case"artists":return s.createElement(et,null,s.createElement(L0,null));case"discovery":return s.createElement(et,null,s.createElement($0,null));case"admin":return s.createElement(et,null,s.createElement(D0,null));default:return null}};return s.createElement("div",{className:"min-h-screen bg-gray-50 flex"},t!=="home"&&s.createElement(S0,{activeTab:t,setActiveTab:m,onShowAuth:N}),s.createElement("main",{className:t==="home"?"flex-1":"flex-1 p-4 sm:p-6 lg:p-8 lg:ml-0"},w()),s.createElement(W0,{isOpen:c,onClose:()=>u(!1),defaultMode:d}),s.createElement(U0,{showCreateModal:a,setShowCreateModal:l,genres:v}),s.createElement(M0,{showStorytellerDemo:i,setShowStorytellerDemo:o}))};ll.createRoot(document.getElementById("root")).render(s.createElement(s.StrictMode,null,s.createElement(et,null,s.createElement(x0,null,s.createElement(V0,null)))));
